(this.webpackJsonppatientor=this.webpackJsonppatientor||[]).push([[0],{306:function(e,t,n){"use strict";n.r(t);var a,r,c,i=n(1),s=n(0),o=n.n(s),l=n(53),d=n.n(l),j=n(11),u=n(13),h=function(e){return{type:"ADD_PATIENT",payload:e}},b=function(e){return{type:"UPDATE_PATIENT",payload:e}},p=n(7),O={patients:{},diagnoses:{},patient:void 0},x=Object(s.createContext)([O,function(){return O}]),m=function(e){var t=e.reducer,n=e.children,a=Object(s.useReducer)(t,O),r=Object(p.a)(a,2),c=r[0],o=r[1];return Object(i.jsx)(x.Provider,{value:[c,o],children:n})},f=function(){return Object(s.useContext)(x)},g=n(27),v=n.n(g),y=n(44),k=n(45),C=n.n(k),w=n(49),S=n(18),T="/api",D=n(352),H=n(41),E=n(356),q=n(357),N=function(){return Object(i.jsxs)(D.a,{disableGutters:!0,style:{marginBottom:35},children:[Object(i.jsx)(H.a,{component:"h1",variant:"h5",style:{flexGrow:1},children:Object(i.jsx)(E.a,{component:w.b,to:"/",underline:"none",color:"primary",variant:"inherit",children:"Patientor"})}),Object(i.jsx)(q.a,{component:w.b,to:"/",color:"primary",children:"Home"})]})},F=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],R=["Healthy","Low risk","High risk","Critical risk"],A=function(e){var t=e.rating,n=e.showText,a=t-1;return Object(i.jsx)(i.Fragment,{children:n?F[a]:R[a]})},L=n(358),P=n(359),I=n(360),B=n(363),W=n(361),_=n(362),V=n(310),G=n(380),U=function(e){var t=e.patients;return Object(i.jsx)(L.a,{component:V.a,style:{marginTop:35},children:Object(i.jsxs)(P.a,{"aria-label":"patient list",children:[Object(i.jsx)(I.a,{children:Object(i.jsxs)(W.a,{children:[Object(i.jsx)(_.a,{children:"Name"}),Object(i.jsx)(G.a,{xsDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:"Gender"})}),Object(i.jsx)(G.a,{smDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:"Occupation"})}),Object(i.jsx)(_.a,{align:"right",children:"Health Rating"})]})}),Object(i.jsx)(B.a,{children:t.map((function(e){return Object(i.jsxs)(W.a,{children:[Object(i.jsx)(_.a,{component:"th",scope:"row",children:Object(i.jsx)(E.a,{component:w.b,to:"/patients/".concat(e.id),children:e.name})}),Object(i.jsx)(G.a,{xsDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:e.gender})}),Object(i.jsx)(G.a,{smDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:e.occupation})}),Object(i.jsx)(_.a,{align:"right",children:"number"===typeof e.healthRating?Object(i.jsx)(A,{rating:e.healthRating,showText:!1}):e.healthRating})]},e.id)}))})]})})},z=n(17),M=n(16);!function(e){e[e.Healthy=1]="Healthy",e[e.LowRisk=2]="LowRisk",e[e.HighRisk=3]="HighRisk",e[e.CriticalRisk=4]="CriticalRisk"}(a||(a={})),function(e){e.Other="other",e.Male="male",e.Female="female"}(r||(r={})),function(e){e.Hospital="Hospital",e.OccupationalHealthcare="OccupationalHealthcare",e.HealthCheck="HealthCheck"}(c||(c={}));var J=n(364),K=n(384),Q=n(370),X=function(e){var t=e.field,n=e.label,a=e.options;return Object(i.jsx)(J.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(K.a,Object(u.a)(Object(u.a)({fullWidth:!0,select:!0,id:"select-".concat(t.name),label:n},t),{},{children:a.map((function(e){return Object(i.jsx)(Q.a,{value:e.value,children:e.label||e.value},e.value)}))}))})},Y=function(e){var t=e.field,n=e.form,a=n.touched,r=n.errors,c=e.id,s=e.label,o=e.placeholder,l=e.required;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(K.a,Object(u.a)({fullWidth:!0,id:c,label:s,placeholder:o,required:l,error:a[t.name]&&Boolean(r[t.name]),helperText:a[t.name]&&r[t.name]},t))})},Z=function(e){var t=e.field,n=e.form,a=n.touched,r=n.errors,c=e.id,s=e.label,o=e.required;return Object(i.jsx)(J.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(K.a,Object(u.a)({fullWidth:!0,id:c,label:s,type:"date",required:o,InputLabelProps:{shrink:!0},error:a[t.name]&&Boolean(r[t.name]),helperText:a[t.name]&&r[t.name]},t))})},$=[{value:r.Other,label:"Other"},{value:r.Male,label:"Male"},{value:r.Female,label:"Female"}],ee=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"patient-name",label:"Name",placeholder:"Name",name:"name",component:Y,required:!0}),Object(i.jsx)(M.a,{id:"patient-gender",label:"Gender",name:"gender",options:$,component:X,required:!0}),Object(i.jsx)(M.a,{id:"patient-dob",label:"Date Of Birth",name:"dateOfBirth",component:Z,required:!0}),Object(i.jsx)(M.a,{id:"patient-ssn",label:"Social Security Number",placeholder:"SSN",name:"ssn",component:Y,required:!0}),Object(i.jsx)(M.a,{id:"patient-occupation",label:"Occupation",placeholder:"Occupation",name:"occupation",component:Y,required:!0})]})},te={flexGrow:1,maxWidth:600,backgroundColor:"white",padding:"35px 25px"},ne=z.d().shape({name:z.e().min(2,"Name is too short").max(35,"Name is too long").required("Name is required"),dateOfBirth:z.b().required("DOB is required"),ssn:z.e().min(11).max(12).required("SSN is required"),occupation:z.e().min(4).max(35).required("Occupation is required")}),ae=function(e){var t=e.onSubmit,n=e.onCancel;return Object(i.jsx)("div",{children:Object(i.jsx)(M.c,{initialValues:{name:"",dateOfBirth:"",ssn:"",gender:r.Other,occupation:""},onSubmit:t,validationSchema:ne,children:function(e){var t=e.isValid,a=e.dirty;return Object(i.jsx)(M.b,{style:te,children:Object(i.jsxs)(J.a,{container:!0,spacing:2,children:[Object(i.jsx)(ee,{}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(q.a,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",size:"large",disabled:!a||!t,children:"Add"})}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(q.a,{fullWidth:!0,type:"button",color:"secondary",variant:"outlined",size:"large",onClick:n,children:"Cancel"})})]})})}})})},re=function(e){var t=e.error;return Object(i.jsxs)(H.a,{color:"secondary",align:"center",gutterBottom:!0,children:["Entry not submitted. ",t,"."]})},ce=n(383),ie=function(e){var t=e.handleSubmit,n=e.handleOpen,a=e.handleClose,r=e.open,c=e.error;return Object(i.jsxs)("div",{children:[Object(i.jsx)(q.a,{type:"button",variant:"outlined",onClick:n,children:"Add New Patient"}),Object(i.jsxs)(ce.a,{open:r,onClose:a,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(ae,{onSubmit:t,onCancel:a}),c&&Object(i.jsx)(re,{error:c})]})]})},se=function(){var e=f(),t=Object(p.a)(e,2),n=t[0].patients,a=t[1],r=Object(s.useState)(!1),c=Object(p.a)(r,2),o=c[0],l=c[1],d=Object(s.useState)(),j=Object(p.a)(d,2),b=j[0],O=j[1],x=function(){l(!1),O(void 0)},m=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat(T,"/patients"),t);case 3:n=e.sent,r=n.data,a(h(Object(u.a)(Object(u.a)({},r),{},{healthRating:"Not given"}))),x(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?O(e.t0.message):O("Unknown Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(J.a,{container:!0,alignContent:"center",children:[Object(i.jsx)(H.a,{variant:"h4",component:"h3",color:"textPrimary",style:{marginRight:25},children:"Patients"}),Object(i.jsx)(ie,{handleSubmit:m,handleOpen:function(){return l(!0)},handleClose:x,open:o,error:b})]}),Object(i.jsx)(U,{patients:Object.values(n)})]})},oe=n(369),le=n(311),de=n(371),je=function(e){var t=e.patient;return Object(i.jsxs)(J.a,{container:!0,alignContent:"center",justifyContent:"space-between",children:[Object(i.jsxs)(J.a,{container:!0,item:!0,xs:!0,justifyContent:"flex-start",children:[Object(i.jsx)(H.a,{variant:"h4",component:"h3",color:"textPrimary",style:{marginRight:25},children:t.name}),function(e){switch(e){case"male":return Object(i.jsx)(H.a,{variant:"h4",component:"span",color:"primary",children:"\u2642"});case"female":return Object(i.jsx)(H.a,{variant:"h4",component:"span",color:"secondary",children:"\u2640"});default:return Object(i.jsx)(H.a,{variant:"h4",component:"span",color:"textSecondary",children:"\u2642\u2640"})}}(t.gender)]}),Object(i.jsx)(J.a,{item:!0,xs:12,sm:4,md:6,children:Object(i.jsxs)(oe.a,{children:[Object(i.jsx)(le.a,{children:Object(i.jsx)(de.a,{primary:"Ssn:",secondary:t.ssn})}),Object(i.jsx)(le.a,{children:Object(i.jsx)(de.a,{primary:"Occupation:",secondary:t.occupation})})]})})]})},ue=function(e){var t=e.field,n=e.form,a=n.touched,r=n.errors,c=e.id,s=e.label,o=e.placeholder,l=e.required;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(K.a,Object(u.a)({fullWidth:!0,multiline:!0,id:c,label:s,placeholder:o,required:l,rows:"2",error:a[t.name]&&Boolean(r[t.name]),helperText:a[t.name]&&r[t.name]},t))})},he=[{value:c.Hospital,label:"Hospital"},{value:c.OccupationalHealthcare,label:"Occupational Healthcare"},{value:c.HealthCheck,label:"Health Check"}],be=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{label:"Type",name:"type",options:he,component:X}),Object(i.jsx)(M.a,{id:"entry-date",label:"Date",name:"date",component:Z,required:!0}),Object(i.jsx)(M.a,{id:"entry-description",label:"Description",placeholder:"Add description",name:"description",component:ue,required:!0}),Object(i.jsx)(M.a,{id:"entry-specialist",label:"Specialist",placeholder:"Add specialist",name:"specialist",component:Y,required:!0})]})},pe=n(372),Oe=n(373),xe=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(pe.a,{control:Object(i.jsx)(Oe.a,{checked:n,onChange:function(){return a(!n)},name:"discharge",color:"primary"}),label:"Discharge form hospital"})}),n&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"entry-discharge-date",label:"Discharge date",name:"discharge.date",component:Z}),Object(i.jsx)(M.a,{id:"entry-discharge-criteriae",label:"Criteria",placeholder:"Criteria",name:"discharge.criteria",component:ue})]})]})},me=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"entry-employer-name",label:"Employer Name",placeholder:"Add employer's name",name:"employerName",component:Y,required:!0}),Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(pe.a,{control:Object(i.jsx)(Oe.a,{checked:n,onChange:function(){return a(!n)},name:"sickLeave",color:"primary"}),label:"Assign sick leave"})}),n&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"entry-sickleave-start-date",label:"Start date",name:"sickLeave.startDate",component:Z}),Object(i.jsx)(M.a,{id:"entry-sickleave-end-date",label:"End date",name:"sickLeave.endDate",component:Z})]})]})},fe=n(382),ge=n(387),ve=n(367),ye=n(368),ke=function(e){var t=e.form,n=e.field,a=e.label;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsxs)(ve.a,{fullWidth:!0,component:"fieldset",margin:"dense",children:[Object(i.jsx)(ye.a,{component:"legend",disabled:!0,children:a}),Object(i.jsxs)(ge.a,{row:!0,"aria-label":"health rating",value:n.value,onChange:function(e){var a=Number(e.target.value);t.setFieldValue(n.name,a)},children:[Object(i.jsx)(pe.a,{value:1,control:Object(i.jsx)(fe.a,{}),label:"Healthy"}),Object(i.jsx)(pe.a,{value:2,control:Object(i.jsx)(fe.a,{}),label:"Low risk"}),Object(i.jsx)(pe.a,{value:3,control:Object(i.jsx)(fe.a,{}),label:"High risk"}),Object(i.jsx)(pe.a,{value:4,control:Object(i.jsx)(fe.a,{}),label:"Critical risk"})]})]})})},Ce=function(){return Object(i.jsx)(M.a,{label:"Health Rating",name:"healthCheckRating",component:ke})},we=n(379),Se=n(365),Te=function(e){var t=e.setFieldValue,n=e.setFieldTouched,a=e.diagnoses,r=e.codes,c="diagnosisCodes",s=a.map((function(e){return Object(i.jsx)(Q.a,{value:e.code,children:Object(i.jsxs)(H.a,{variant:"inherit",noWrap:!0,children:[e.name," (",e.code,")"]})},e.code)}));return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(ve.a,{fullWidth:!0,children:Object(i.jsxs)(we.a,{multiple:!0,displayEmpty:!0,value:r,onChange:function(e){t(c,e.target.value),setTimeout((function(){return n(c,!0)}))},input:Object(i.jsx)(Se.a,{}),renderValue:function(e){return Object(i.jsx)(H.a,{variant:"inherit",style:{padding:"10px 14px"},children:0===e.length?"Add Diagnosis":e.join(", ")})},inputProps:{"aria-label":"diagnosis"},children:[Object(i.jsx)(Q.a,{disabled:!0,value:"",children:Object(i.jsx)(H.a,{variant:"inherit",children:"Diagnosis"})}),s]})})})},De=z.d().shape({date:z.b().required("Date is required"),type:z.e(),specialist:z.e().min(2,"Name is too short").max(35,"Name is too long").required("Specialist is required"),employerName:z.e().when("type",{is:c.OccupationalHealthcare,then:z.e().required("Employer is required"),otherwise:z.e()}).max(35,"Employer name is too long"),diagnosisCodes:z.a(),description:z.e().max(500,"Description is too long").required("Description is required"),discharge:z.d().shape({date:z.b(),criteria:z.e().min(2,"Text is too short").max(250,"Text is too long")}),sickLeave:z.d().shape({startDate:z.b(),endDate:z.b()}),healthCheckRating:z.c()}),He=function(e){var t=e.onSubmit,n=e.onCancel,r=f(),s=Object(p.a)(r,1)[0].diagnoses;return Object(i.jsx)(M.c,{initialValues:{date:"",type:c.Hospital,specialist:"",employerName:"",diagnosisCodes:[],description:"",discharge:{date:"",criteria:""},sickLeave:{startDate:"",endDate:""},healthCheckRating:a.Healthy},onSubmit:t,validationSchema:De,children:function(e){var t=e.values,a=e.isValid,r=e.dirty,o=e.setFieldValue,l=e.setFieldTouched;return Object(i.jsx)(M.b,{style:te,children:Object(i.jsxs)(J.a,{container:!0,spacing:2,children:[Object(i.jsx)(be,{}),t.type===c.Hospital&&Object(i.jsx)(xe,{}),t.type===c.OccupationalHealthcare&&Object(i.jsx)(me,{}),t.type===c.HealthCheck&&Object(i.jsx)(Ce,{}),Object(i.jsx)(Te,{setFieldValue:o,setFieldTouched:l,diagnoses:Object.values(s),codes:t.diagnosisCodes}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(q.a,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",size:"large",disabled:!r||!a,children:"Add"})}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(q.a,{fullWidth:!0,type:"button",color:"secondary",variant:"outlined",size:"large",onClick:n,children:"Cancel"})})]})})}})},Ee=function(e){var t=e.handleSubmit,n=e.handleOpen,a=e.handleClose,r=e.open,c=e.error;return Object(i.jsxs)("div",{children:[Object(i.jsx)(q.a,{type:"button",variant:"outlined",onClick:n,children:"Add New Entry"}),Object(i.jsxs)(ce.a,{open:r,onClose:a,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(He,{onSubmit:t,onCancel:a}),c&&Object(i.jsx)(re,{error:c})]})]})},qe=function(e){return new Date(e).toDateString()},Ne=function(e,t){var n=new Date(e),a=new Date(t);return"from ".concat(n.toDateString()," to ").concat(a.toDateString())},Fe=function(e){var t=e.codes,n=f(),a=Object(p.a)(n,1)[0].diagnoses,r=Object.values(a).filter((function(e){return t.includes(e.code)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(H.a,{variant:"h6",children:"Diagnosis:"}),Object(i.jsx)(oe.a,{disablePadding:!0,children:r.map((function(e){return Object(i.jsx)(le.a,{children:Object(i.jsx)(de.a,{primary:e.name,secondary:e.code})},e.code)}))})]})},Re=n(374),Ae=n(375),Le=n(376),Pe=n(377),Ie=n(385),Be=n(162),We=n.n(Be),_e=n(160),Ve=n.n(_e),Ge=n(161),Ue=n.n(Ge),ze=n(91),Me=n(92),Je=n(90),Ke=function(e){var t=e.type,n=e.date,a=e.description,r=e.codes,c=e.children;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsxs)(Re.a,{children:[Object(i.jsx)(Ae.a,{avatar:function(e){switch(e){case"Occupational Healthcare":return Object(i.jsx)(Ie.a,{style:{backgroundColor:ze.a[700]},children:Object(i.jsx)(Ve.a,{})});case"Health Check":return Object(i.jsx)(Ie.a,{style:{backgroundColor:Me.a[700]},children:Object(i.jsx)(Ue.a,{})});default:return Object(i.jsx)(Ie.a,{style:{backgroundColor:Je.a[700]},children:Object(i.jsx)(We.a,{})})}}(t),title:t,subheader:qe(n)}),Object(i.jsxs)(Le.a,{children:[r&&r.length>0?Object(i.jsx)(Fe,{codes:r}):null,Object(i.jsx)(H.a,{color:"textSecondary",component:"p",style:{marginBottom:15},children:a}),c&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Pe.a,{variant:"fullWidth"}),Object(i.jsx)("div",{style:{marginTop:15},children:c})]})]})]})})},Qe=function(e){var t=e.entry;return Object(i.jsx)(Ke,{type:"Hospital",date:t.date,description:t.description,codes:t.diagnosisCodes,children:t.discharge?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(H.a,{gutterBottom:!0,component:"p",children:["Discharged from hospital on ",qe(t.discharge.date),"."]}),Object(i.jsxs)(H.a,{component:"p",children:["Discharge criteria: ",t.discharge.criteria]})]}):""})},Xe=function(e){var t=e.entry;return Object(i.jsx)(Ke,{type:"Occupational Healthcare",date:t.date,description:t.description,codes:t.diagnosisCodes,children:Object(i.jsxs)(i.Fragment,{children:[t.sickLeave&&Object(i.jsxs)(H.a,{gutterBottom:!0,component:"p",children:["On sick leave"," ",Ne(t.sickLeave.startDate,t.sickLeave.endDate),"."]}),Object(i.jsxs)(H.a,{component:"p",children:["Employer: ",t.employerName]})]})})},Ye=function(e){var t=e.entry;return Object(i.jsx)(Ke,{type:"Health Check",date:t.date,description:t.description,codes:t.diagnosisCodes,children:Object(i.jsxs)(H.a,{component:"p",children:["Health assessment:"," ",Object(i.jsx)(A,{rating:t.healthCheckRating,showText:!0})]})})},Ze=function(e){var t=e.entry;switch(t.type){case"Hospital":return Object(i.jsx)(Qe,{entry:t});case"OccupationalHealthcare":return Object(i.jsx)(Xe,{entry:t});case"HealthCheck":return Object(i.jsx)(Ye,{entry:t});default:!function(e){throw new Error("".concat(e," is an unknown entry type"))}(t)}},$e=function(e){var t=e.entries,n=e.handleSubmit,a=e.handleOpen,r=e.handleClose,c=e.open,s=e.error;return Object(i.jsxs)(J.a,{container:!0,children:[Object(i.jsx)(H.a,{variant:"h5",component:"h4",color:"textPrimary",style:{marginRight:25},children:"Entries"}),Object(i.jsx)(Ee,{handleSubmit:n,handleOpen:a,handleClose:r,open:c,error:s}),Object(i.jsx)(J.a,{container:!0,item:!0,xs:12,spacing:3,style:{marginTop:25},children:t&&t.length>0?t.map((function(e){return Object(i.jsx)(Ze,{entry:e},e.id)})):Object(i.jsx)(H.a,{component:"h6",color:"textSecondary",style:{marginLeft:15},children:"No entries"})})]})},et=function(e){var t=e.handlePatientList,n=f(),a=Object(p.a)(n,2),r=a[0],c=r.patients,o=r.patient,l=a[1],d=Object(S.f)().id,j=Object(s.useState)(!0),O=Object(p.a)(j,2),x=O[0],m=O[1],g=Object(s.useState)(!1),k=Object(p.a)(g,2),w=k[0],D=k[1],E=Object(s.useState)(),q=Object(p.a)(E,2),N=q[0],F=q[1],R=function(){D(!1),F(void 0)},A=function(){var e=Object(y.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(T,"/patients/").concat(d));case 3:t=e.sent,n=t.data,l(b(n)),m(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?F(e.t0.message):F("Unknown Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(v.a.mark((function e(t,n){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.put("".concat(T,"/patients/").concat(t),n);case 3:a=e.sent,r=a.data,"HealthCheck"===n.type?l(h(Object(u.a)(Object(u.a)({},r),{},{healthRating:n.healthCheckRating}))):l(h(r)),l(b(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?F(e.t0.message):F("Unknown Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){Object.keys(c).length>1?(!o||o&&o.id!==d)&&(Object.keys(c).includes(d)?A():m(!1)):t()}),[o,c]);var P=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat(T,"/patients/").concat(d,"/entries"),t);case 3:n=e.sent,a=n.data,L(d,a),R(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?F(e.t0.message):F("Unknown Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return!o&&x||o&&o.id!==d?Object(i.jsx)(H.a,{children:"Loading..."}):o?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(je,{patient:o}),Object(i.jsx)($e,{entries:o.entries,handleSubmit:P,handleOpen:function(){return D(!0)},handleClose:R,open:w,error:N})]}):Object(i.jsx)(H.a,{children:"No such patient exist in the database."})},tt=function(){return Object(i.jsx)(H.a,{children:"Page not found."})},nt=n(378),at=function(){var e=f(),t=Object(p.a)(e,2)[1],n=function(){var e=Object(y.a)(v.a.mark((function e(){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(T,"/patients"));case 3:n=e.sent,a=n.data,t({type:"SET_PATIENT_LIST",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(y.a)(v.a.mark((function e(){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(T,"/diagnosis"));case 3:n=e.sent,a=n.data,t({type:"SET_DIAGNOSIS_LIST",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){n(),a()}),[t]),Object(i.jsx)(w.a,{children:Object(i.jsxs)(nt.a,{children:[Object(i.jsx)(N,{}),Object(i.jsxs)(S.c,{children:[Object(i.jsx)(S.a,{path:"/patients/:id",children:Object(i.jsx)(et,{handlePatientList:n})}),Object(i.jsx)(S.a,{exact:!0,path:"/",children:Object(i.jsx)(se,{})}),Object(i.jsx)(S.a,{path:"/",children:Object(i.jsx)(tt,{})})]})]})})};d.a.render(Object(i.jsx)(m,{reducer:function(e,t){switch(t.type){case"SET_PATIENT_LIST":return Object(u.a)(Object(u.a)({},e),{},{patients:Object(u.a)(Object(u.a)({},t.payload.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(j.a)({},t.id,t))}),{})),e.patients)});case"ADD_PATIENT":return Object(u.a)(Object(u.a)({},e),{},{patients:Object(u.a)(Object(u.a)({},e.patients),{},Object(j.a)({},t.payload.id,t.payload))});case"UPDATE_PATIENT":return Object(u.a)(Object(u.a)({},e),{},{patient:t.payload});case"SET_DIAGNOSIS_LIST":return Object(u.a)(Object(u.a)({},e),{},{diagnoses:Object(u.a)(Object(u.a)({},t.payload.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(j.a)({},t.code,t))}),{})),e.diagnoses)});default:return e}},children:Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(at,{})})}),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.8249290e.chunk.js.map