(this.webpackJsonppatientor=this.webpackJsonppatientor||[]).push([[0],{305:function(e,t,n){"use strict";n.r(t);var a,r,c,i=n(1),s=n(0),o=n.n(s),l=n(50),d=n.n(l),j=n(11),u=n(13),h=function(e){return{type:"UPDATE_PATIENT",payload:e}},b=n(7),p={patients:{},diagnoses:{}},O=Object(s.createContext)([p,function(){return p}]),x=function(e){var t=e.reducer,n=e.children,a=Object(s.useReducer)(t,p),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(i.jsx)(O.Provider,{value:[c,o],children:n})},m=function(){return Object(s.useContext)(O)},g=n(30),f=n.n(g),v=n(51),y=n(52),k=n.n(y),C=n(56),S=n(18),w="/api",T=n(352),D=n(41),H=n(356),q=function(){return Object(i.jsxs)(T.a,{disableGutters:!0,style:{marginBottom:35},children:[Object(i.jsx)(D.a,{variant:"h5",component:"h1",color:"primary",style:{flexGrow:1},children:"Patientor"}),Object(i.jsx)(H.a,{component:C.b,to:"/",color:"primary",children:"Home"})]})},E=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],N=["Healthy","Low risk","High risk","Critical risk"],F=function(e){var t=e.rating,n=e.showText;return Object(i.jsx)(i.Fragment,{children:n?E[t]:N[t]})},A=n(357),L=n(358),I=n(359),P=n(362),R=n(360),B=n(361),W=n(309),_=n(363),V=n(380),G=function(e){var t=e.patients,n=function(e){var t=e.map((function(e){return"HealthCheck"===e.type?e.healthCheckRating:null})).pop();return"number"===typeof t?Object(i.jsx)(F,{rating:t,showText:!1}):"Not given"};return Object(i.jsx)(A.a,{component:W.a,style:{marginTop:35},children:Object(i.jsxs)(L.a,{"aria-label":"patient list",children:[Object(i.jsx)(I.a,{children:Object(i.jsxs)(R.a,{children:[Object(i.jsx)(B.a,{children:"Name"}),Object(i.jsx)(V.a,{xsDown:!0,children:Object(i.jsx)(B.a,{align:"right",children:"Gender"})}),Object(i.jsx)(V.a,{smDown:!0,children:Object(i.jsx)(B.a,{align:"right",children:"Occupation"})}),Object(i.jsx)(B.a,{align:"right",children:"Health Rating"})]})}),Object(i.jsx)(P.a,{children:t.map((function(e){return Object(i.jsxs)(R.a,{children:[Object(i.jsx)(B.a,{component:"th",scope:"row",children:Object(i.jsx)(_.a,{component:C.b,to:"/patients/".concat(e.id),children:e.name})}),Object(i.jsx)(V.a,{xsDown:!0,children:Object(i.jsx)(B.a,{align:"right",children:e.gender})}),Object(i.jsx)(V.a,{smDown:!0,children:Object(i.jsx)(B.a,{align:"right",children:e.occupation})}),Object(i.jsx)(B.a,{align:"right",children:e.entries&&e.entries.length>0?n(e.entries):"Not given"})]},e.id)}))})]})})},U=n(17),z=n(16);!function(e){e[e.Healthy=1]="Healthy",e[e.LowRisk=2]="LowRisk",e[e.HighRisk=3]="HighRisk",e[e.CriticalRisk=4]="CriticalRisk"}(a||(a={})),function(e){e.Other="other",e.Male="male",e.Female="female"}(r||(r={})),function(e){e.Hospital="Hospital",e.OccupationalHealthcare="OccupationalHealthcare",e.HealthCheck="HealthCheck"}(c||(c={}));var M=n(364),J=n(384),K=n(370),Q=function(e){var t=e.field,n=e.label,a=e.options;return Object(i.jsx)(M.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(J.a,Object(u.a)(Object(u.a)({fullWidth:!0,select:!0,id:"select-".concat(t.name),label:n},t),{},{children:a.map((function(e){return Object(i.jsx)(K.a,{value:e.value,children:e.label||e.value},e.value)}))}))})},X=function(e){var t=e.field,n=e.form,a=n.touched,r=n.errors,c=e.id,s=e.label,o=e.placeholder,l=e.required;return Object(i.jsx)(M.a,{item:!0,xs:12,children:Object(i.jsx)(J.a,Object(u.a)({fullWidth:!0,id:c,label:s,placeholder:o,required:l,error:a[t.name]&&Boolean(r[t.name]),helperText:a[t.name]&&r[t.name]},t))})},Y=function(e){var t=e.field,n=e.form,a=n.touched,r=n.errors,c=e.id,s=e.label,o=e.required;return Object(i.jsx)(M.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(J.a,Object(u.a)({fullWidth:!0,id:c,label:s,type:"date",required:o,InputLabelProps:{shrink:!0},error:a[t.name]&&Boolean(r[t.name]),helperText:a[t.name]&&r[t.name]},t))})},Z=[{value:r.Other,label:"Other"},{value:r.Male,label:"Male"},{value:r.Female,label:"Female"}],$=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(z.a,{id:"patient-name",label:"Name",placeholder:"Name",name:"name",component:X,required:!0}),Object(i.jsx)(z.a,{id:"patient-gender",label:"Gender",name:"gender",options:Z,component:Q,required:!0}),Object(i.jsx)(z.a,{id:"patient-dob",label:"Date Of Birth",name:"dateOfBirth",component:Y,required:!0}),Object(i.jsx)(z.a,{id:"patient-ssn",label:"Social Security Number",placeholder:"SSN",name:"ssn",component:X,required:!0}),Object(i.jsx)(z.a,{id:"patient-occupation",label:"Occupation",placeholder:"Occupation",name:"occupation",component:X,required:!0})]})},ee={flexGrow:1,maxWidth:600,backgroundColor:"white",padding:"35px 25px"},te=U.d().shape({name:U.e().min(2,"Name is too short").max(35,"Name is too long").required("Name is required"),dateOfBirth:U.b().required("DOB is required"),ssn:U.e().min(11).max(12).required("SSN is required"),occupation:U.e().min(4).max(35).required("Occupation is required")}),ne=function(e){var t=e.onSubmit,n=e.onCancel;return Object(i.jsx)("div",{children:Object(i.jsx)(z.c,{initialValues:{name:"",dateOfBirth:"",ssn:"",gender:r.Other,occupation:""},onSubmit:t,validationSchema:te,children:function(e){var t=e.isValid,a=e.dirty;return Object(i.jsx)(z.b,{style:ee,children:Object(i.jsxs)(M.a,{container:!0,spacing:2,children:[Object(i.jsx)($,{}),Object(i.jsx)(M.a,{item:!0,xs:6,children:Object(i.jsx)(H.a,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",size:"large",disabled:!a||!t,children:"Add"})}),Object(i.jsx)(M.a,{item:!0,xs:6,children:Object(i.jsx)(H.a,{fullWidth:!0,type:"button",color:"secondary",variant:"outlined",size:"large",onClick:n,children:"Cancel"})})]})})}})})},ae=function(e){var t=e.error;return Object(i.jsxs)(D.a,{color:"secondary",align:"center",gutterBottom:!0,children:["Entry not submitted. ",t,"."]})},re=n(383),ce=function(e){var t=e.handleSubmit,n=e.handleOpen,a=e.handleClose,r=e.open,c=e.error;return Object(i.jsxs)("div",{children:[Object(i.jsx)(H.a,{type:"button",variant:"outlined",onClick:n,children:"Add New Patient"}),Object(i.jsxs)(re.a,{open:r,onClose:a,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(ne,{onSubmit:t,onCancel:a}),c&&Object(i.jsx)(ae,{error:c})]})]})},ie=function(){var e=m(),t=Object(b.a)(e,2),n=t[0].patients,a=t[1],r=Object(s.useState)(!1),c=Object(b.a)(r,2),o=c[0],l=c[1],d=Object(s.useState)(),j=Object(b.a)(d,2),u=j[0],h=j[1],p=function(){l(!1),h(void 0)},O=function(){var e=Object(v.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(w,"/patients"),t);case 3:n=e.sent,r=n.data,p(),a({type:"ADD_PATIENT",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?h(e.t0.message):h("Unknown Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(M.a,{container:!0,alignContent:"center",children:[Object(i.jsx)(D.a,{variant:"h4",component:"h3",color:"textPrimary",style:{marginRight:25},children:"Patients"}),Object(i.jsx)(ce,{handleSubmit:O,handleOpen:function(){return l(!0)},handleClose:p,open:o,error:u})]}),Object(i.jsx)(G,{patients:Object.values(n)})]})},se=n(369),oe=n(310),le=n(371),de=function(e){var t=e.patient;return Object(i.jsxs)(M.a,{container:!0,alignContent:"center",justifyContent:"space-between",children:[Object(i.jsxs)(M.a,{container:!0,item:!0,xs:!0,justifyContent:"flex-start",children:[Object(i.jsx)(D.a,{variant:"h4",component:"h3",color:"textPrimary",style:{marginRight:25},children:t.name}),function(e){switch(e){case"male":return Object(i.jsx)(D.a,{variant:"h4",component:"span",color:"primary",children:"\u2642"});case"female":return Object(i.jsx)(D.a,{variant:"h4",component:"span",color:"secondary",children:"\u2640"});default:return Object(i.jsx)(D.a,{variant:"h4",component:"span",color:"textSecondary",children:"\u2642\u2640"})}}(t.gender)]}),Object(i.jsx)(M.a,{item:!0,xs:12,sm:4,md:6,children:Object(i.jsxs)(se.a,{children:[Object(i.jsx)(oe.a,{children:Object(i.jsx)(le.a,{primary:"Ssn:",secondary:t.ssn})}),Object(i.jsx)(oe.a,{children:Object(i.jsx)(le.a,{primary:"Occupation:",secondary:t.occupation})})]})})]})},je=function(e){var t=e.field,n=e.form,a=n.touched,r=n.errors,c=e.id,s=e.label,o=e.placeholder,l=e.required;return Object(i.jsx)(M.a,{item:!0,xs:12,children:Object(i.jsx)(J.a,Object(u.a)({fullWidth:!0,multiline:!0,id:c,label:s,placeholder:o,required:l,rows:"2",error:a[t.name]&&Boolean(r[t.name]),helperText:a[t.name]&&r[t.name]},t))})},ue=[{value:c.Hospital,label:"Hospital"},{value:c.OccupationalHealthcare,label:"Occupational Healthcare"},{value:c.HealthCheck,label:"Health Check"}],he=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(z.a,{label:"Type",name:"type",options:ue,component:Q}),Object(i.jsx)(z.a,{id:"entry-date",label:"Date",name:"date",component:Y,required:!0}),Object(i.jsx)(z.a,{id:"entry-description",label:"Description",placeholder:"Add description",name:"description",component:je,required:!0}),Object(i.jsx)(z.a,{id:"entry-specialist",label:"Specialist",placeholder:"Add specialist",name:"specialist",component:X,required:!0})]})},be=n(372),pe=n(373),Oe=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{item:!0,xs:12,children:Object(i.jsx)(be.a,{control:Object(i.jsx)(pe.a,{checked:n,onChange:function(){return a(!n)},name:"discharge",color:"primary"}),label:"Discharge form hospital"})}),n&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(z.a,{id:"entry-discharge-date",label:"Discharge date",name:"discharge.date",component:Y}),Object(i.jsx)(z.a,{id:"entry-discharge-criteriae",label:"Criteria",placeholder:"Criteria",name:"discharge.criteria",component:je})]})]})},xe=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(z.a,{id:"entry-employer-name",label:"Employer Name",placeholder:"Add employer's name",name:"employerName",component:X,required:!0}),Object(i.jsx)(M.a,{item:!0,xs:12,children:Object(i.jsx)(be.a,{control:Object(i.jsx)(pe.a,{checked:n,onChange:function(){return a(!n)},name:"sickLeave",color:"primary"}),label:"Assign sick leave"})}),n&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(z.a,{id:"entry-sickleave-start-date",label:"Start date",name:"sickLeave.startDate",component:Y}),Object(i.jsx)(z.a,{id:"entry-sickleave-end-date",label:"End date",name:"sickLeave.endDate",component:Y})]})]})},me=n(382),ge=n(387),fe=n(367),ve=n(368),ye=function(e){var t=e.form,n=e.field,a=e.label;return Object(i.jsx)(M.a,{item:!0,xs:12,children:Object(i.jsxs)(fe.a,{fullWidth:!0,component:"fieldset",margin:"dense",children:[Object(i.jsx)(ve.a,{component:"legend",disabled:!0,children:a}),Object(i.jsxs)(ge.a,{row:!0,"aria-label":"health rating",value:n.value,onChange:function(e){var a=Number(e.target.value);t.setFieldValue(n.name,a)},children:[Object(i.jsx)(be.a,{value:1,control:Object(i.jsx)(me.a,{}),label:"Healthy"}),Object(i.jsx)(be.a,{value:2,control:Object(i.jsx)(me.a,{}),label:"Low risk"}),Object(i.jsx)(be.a,{value:3,control:Object(i.jsx)(me.a,{}),label:"High risk"}),Object(i.jsx)(be.a,{value:4,control:Object(i.jsx)(me.a,{}),label:"Critical risk"})]})]})})},ke=function(){return Object(i.jsx)(z.a,{label:"Health Rating",name:"healthCheckRating",component:ye})},Ce=n(379),Se=n(365),we=function(e){var t=e.setFieldValue,n=e.setFieldTouched,a=e.diagnoses,r=e.codes,c="diagnosisCodes",s=a.map((function(e){return Object(i.jsx)(K.a,{value:e.code,children:Object(i.jsxs)(D.a,{variant:"inherit",noWrap:!0,children:[e.name," (",e.code,")"]})},e.code)}));return Object(i.jsx)(M.a,{item:!0,xs:12,children:Object(i.jsx)(fe.a,{fullWidth:!0,children:Object(i.jsxs)(Ce.a,{multiple:!0,displayEmpty:!0,value:r,onChange:function(e){t(c,e.target.value),setTimeout((function(){return n(c,!0)}))},input:Object(i.jsx)(Se.a,{}),renderValue:function(e){return Object(i.jsx)(D.a,{variant:"inherit",style:{padding:"10px 14px"},children:0===e.length?"Add Diagnosis":e.join(", ")})},inputProps:{"aria-label":"diagnosis"},children:[Object(i.jsx)(K.a,{disabled:!0,value:"",children:Object(i.jsx)(D.a,{variant:"inherit",children:"Diagnosis"})}),s]})})})},Te=U.d().shape({date:U.b().required("Date is required"),type:U.e(),specialist:U.e().min(2,"Name is too short").max(35,"Name is too long").required("Specialist is required"),employerName:U.e().when("type",{is:c.OccupationalHealthcare,then:U.e().required("Employer is required"),otherwise:U.e()}).max(35,"Employer name is too long"),diagnosisCodes:U.a(),description:U.e().max(500,"Description is too long").required("Description is required"),discharge:U.d().shape({date:U.b(),criteria:U.e().min(2,"Text is too short").max(250,"Text is too long")}),sickLeave:U.d().shape({startDate:U.b(),endDate:U.b()}),healthCheckRating:U.c()}),De=function(e){var t=e.onSubmit,n=e.onCancel,r=m(),s=Object(b.a)(r,1)[0].diagnoses;return Object(i.jsx)(z.c,{initialValues:{date:"",type:c.Hospital,specialist:"",employerName:"",diagnosisCodes:[],description:"",discharge:{date:"",criteria:""},sickLeave:{startDate:"",endDate:""},healthCheckRating:a.Healthy},onSubmit:t,validationSchema:Te,children:function(e){var t=e.values,a=e.isValid,r=e.dirty,o=e.setFieldValue,l=e.setFieldTouched;return Object(i.jsx)(z.b,{style:ee,children:Object(i.jsxs)(M.a,{container:!0,spacing:2,children:[Object(i.jsx)(he,{}),t.type===c.Hospital&&Object(i.jsx)(Oe,{}),t.type===c.OccupationalHealthcare&&Object(i.jsx)(xe,{}),t.type===c.HealthCheck&&Object(i.jsx)(ke,{}),Object(i.jsx)(we,{setFieldValue:o,setFieldTouched:l,diagnoses:Object.values(s),codes:t.diagnosisCodes}),Object(i.jsx)(M.a,{item:!0,xs:6,children:Object(i.jsx)(H.a,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",size:"large",disabled:!r||!a,children:"Add"})}),Object(i.jsx)(M.a,{item:!0,xs:6,children:Object(i.jsx)(H.a,{fullWidth:!0,type:"button",color:"secondary",variant:"outlined",size:"large",onClick:n,children:"Cancel"})})]})})}})},He=function(e){var t=e.handleSubmit,n=e.handleOpen,a=e.handleClose,r=e.open,c=e.error;return Object(i.jsxs)("div",{children:[Object(i.jsx)(H.a,{type:"button",variant:"outlined",onClick:n,children:"Add New Entry"}),Object(i.jsxs)(re.a,{open:r,onClose:a,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(De,{onSubmit:t,onCancel:a}),c&&Object(i.jsx)(ae,{error:c})]})]})},qe=function(e){return new Date(e).toDateString()},Ee=function(e,t){var n=new Date(e),a=new Date(t);return"from ".concat(n.toDateString()," to ").concat(a.toDateString())},Ne=function(e){var t=e.codes,n=m(),a=Object(b.a)(n,1)[0].diagnoses,r=Object.values(a).filter((function(e){return t.includes(e.code)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(D.a,{variant:"h6",children:"Diagnosis:"}),Object(i.jsx)(se.a,{disablePadding:!0,children:r.map((function(e){return Object(i.jsx)(oe.a,{children:Object(i.jsx)(le.a,{primary:e.name,secondary:e.code})},e.code)}))})]})},Fe=n(374),Ae=n(375),Le=n(376),Ie=n(377),Pe=n(385),Re=n(162),Be=n.n(Re),We=n(160),_e=n.n(We),Ve=n(161),Ge=n.n(Ve),Ue=n(91),ze=n(92),Me=n(90),Je=function(e){var t=e.type,n=e.date,a=e.description,r=e.codes,c=e.children;return Object(i.jsx)(M.a,{item:!0,xs:12,children:Object(i.jsxs)(Fe.a,{children:[Object(i.jsx)(Ae.a,{avatar:function(e){switch(e){case"Occupational Healthcare":return Object(i.jsx)(Pe.a,{style:{backgroundColor:Ue.a[700]},children:Object(i.jsx)(_e.a,{})});case"Health Check":return Object(i.jsx)(Pe.a,{style:{backgroundColor:ze.a[700]},children:Object(i.jsx)(Ge.a,{})});default:return Object(i.jsx)(Pe.a,{style:{backgroundColor:Me.a[700]},children:Object(i.jsx)(Be.a,{})})}}(t),title:t,subheader:qe(n)}),Object(i.jsxs)(Le.a,{children:[r&&r.length>0?Object(i.jsx)(Ne,{codes:r}):null,Object(i.jsx)(D.a,{color:"textSecondary",component:"p",style:{marginBottom:15},children:a}),c&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ie.a,{variant:"fullWidth"}),Object(i.jsx)("div",{style:{marginTop:15},children:c})]})]})]})})},Ke=function(e){var t=e.entry;return Object(i.jsx)(Je,{type:"Hospital",date:t.date,description:t.description,codes:t.diagnosisCodes,children:t.discharge?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(D.a,{gutterBottom:!0,component:"p",children:["Discharged from hospital on ",qe(t.discharge.date),"."]}),Object(i.jsxs)(D.a,{component:"p",children:["Discharge criteria: ",t.discharge.criteria]})]}):""})},Qe=function(e){var t=e.entry;return Object(i.jsx)(Je,{type:"Occupational Healthcare",date:t.date,description:t.description,codes:t.diagnosisCodes,children:Object(i.jsxs)(i.Fragment,{children:[t.sickLeave&&Object(i.jsxs)(D.a,{gutterBottom:!0,component:"p",children:["On sick leave"," ",Ee(t.sickLeave.startDate,t.sickLeave.endDate),"."]}),Object(i.jsxs)(D.a,{component:"p",children:["Employer: ",t.employerName]})]})})},Xe=function(e){var t=e.entry;return Object(i.jsx)(Je,{type:"Health Check",date:t.date,description:t.description,codes:t.diagnosisCodes,children:Object(i.jsxs)(D.a,{component:"p",children:["Health assessment:"," ",Object(i.jsx)(F,{rating:t.healthCheckRating,showText:!0})]})})},Ye=function(e){var t=e.entry;switch(t.type){case"Hospital":return Object(i.jsx)(Ke,{entry:t});case"OccupationalHealthcare":return Object(i.jsx)(Qe,{entry:t});case"HealthCheck":return Object(i.jsx)(Xe,{entry:t});default:!function(e){throw new Error("".concat(e," is an unknown entry type"))}(t)}},Ze=function(e){var t=e.entries,n=e.handleSubmit,a=e.handleOpen,r=e.handleClose,c=e.open,s=e.error;return Object(i.jsxs)(M.a,{container:!0,children:[Object(i.jsx)(D.a,{variant:"h5",component:"h4",color:"textPrimary",style:{marginRight:25},children:"Entries"}),Object(i.jsx)(He,{handleSubmit:n,handleOpen:a,handleClose:r,open:c,error:s}),Object(i.jsx)(M.a,{container:!0,item:!0,xs:12,spacing:3,style:{marginTop:25},children:t&&t.length>0?t.map((function(e){return Object(i.jsx)(Ye,{entry:e},e.id)})):Object(i.jsx)(D.a,{component:"h6",color:"textSecondary",style:{marginLeft:15},children:"No entries"})})]})},$e=function(){var e=m(),t=Object(b.a)(e,2),n=t[0],a=n.patients,r=n.patient,c=t[1],o=Object(S.f)().id,l=Object(s.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],O=Object(s.useState)(),x=Object(b.a)(O,2),g=x[0],y=x[1],C=function(){p(!1),y(void 0)};Object(s.useEffect)((function(){var e=function(){var e=Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(w,"/patients/").concat(o));case 3:t=e.sent,n=t.data,c(h(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0 instanceof Error?y(e.t0.message):y("Unknown Error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();r&&r.id===o||Object.keys(a).includes(o)&&e()}),[r]);var T=function(){var e=Object(v.a)(f.a.mark((function e(t){var n,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(w,"/patients/").concat(o,"/entries"),t);case 3:n=e.sent,a=n.data,r&&(i=Object(u.a)(Object(u.a)({},r),{},{entries:a}),C(),c(h(i))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0 instanceof Error?y(e.t0.message):y("Unknown Error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r&&r.id!==o?Object(i.jsx)(D.a,{children:"Loading..."}):r?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(de,{patient:r}),Object(i.jsx)(Ze,{entries:r.entries,handleSubmit:T,handleOpen:function(){return p(!0)},handleClose:C,open:j,error:g})]}):Object(i.jsx)(D.a,{children:"No such patient exist in the database."})},et=n(378),tt=function(){var e=m(),t=Object(b.a)(e,2)[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(v.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(w,"/patients"));case 3:n=e.sent,a=n.data,t({type:"SET_PATIENT_LIST",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(v.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(w,"/diagnosis"));case 3:n=e.sent,a=n.data,t({type:"SET_DIAGNOSIS_LIST",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e(),n()}),[t]),Object(i.jsx)(C.a,{children:Object(i.jsxs)(et.a,{children:[Object(i.jsx)(q,{}),Object(i.jsxs)(S.c,{children:[Object(i.jsx)(S.a,{path:"/patients/:id",children:Object(i.jsx)($e,{})}),Object(i.jsx)(S.a,{exact:!0,path:"/",children:Object(i.jsx)(ie,{})})]})]})})};d.a.render(Object(i.jsx)(x,{reducer:function(e,t){switch(t.type){case"SET_PATIENT_LIST":return Object(u.a)(Object(u.a)({},e),{},{patients:Object(u.a)(Object(u.a)({},t.payload.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(j.a)({},t.id,t))}),{})),e.patients)});case"ADD_PATIENT":return Object(u.a)(Object(u.a)({},e),{},{patients:Object(u.a)(Object(u.a)({},e.patients),{},Object(j.a)({},t.payload.id,t.payload))});case"UPDATE_PATIENT":return Object(u.a)(Object(u.a)({},e),{},{patient:Object(u.a)({},t.payload)});case"SET_DIAGNOSIS_LIST":return Object(u.a)(Object(u.a)({},e),{},{diagnoses:Object(u.a)(Object(u.a)({},t.payload.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(j.a)({},t.code,t))}),{})),e.diagnoses)});default:return e}},children:Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(tt,{})})}),document.getElementById("root"))}},[[305,1,2]]]);
//# sourceMappingURL=main.4c1b9e98.chunk.js.map