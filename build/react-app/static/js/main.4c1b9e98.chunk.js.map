{"version":3,"sources":["types.ts","state/reducer.ts","state/state.tsx","constants.ts","components/Header.tsx","components/HealthRatingBar.tsx","PatientListPage/PatientList.tsx","components/FormFieldSelect.tsx","components/FormFieldText.tsx","components/FormFieldDate.tsx","AddPatientModal/PatientFormBase.tsx","styles/index.ts","AddPatientModal/AddPatientForm.tsx","components/ErrorMessage.tsx","AddPatientModal/index.tsx","PatientListPage/index.tsx","PatientPage/PatientDetails.tsx","components/FormFieldTextArea.tsx","AddEntryModal/EntryFormBase.tsx","AddEntryModal/EntryFormHospital.tsx","AddEntryModal/EntryFormOccupationalHealthcare.tsx","AddEntryModal/HealthRatingOptions.tsx","AddEntryModal/EntryFormHealthCheck.tsx","AddEntryModal/EntryFormDiagnosis.tsx","AddEntryModal/AddEntryForm.tsx","AddEntryModal/index.tsx","utils.ts","components/EntryDiagnosis.tsx","components/EntryCard.tsx","components/EntryHospital.tsx","components/EntryOccupationalHealthcare.tsx","components/EntryHealthCheck.tsx","components/EntryDetails.tsx","PatientPage/PatientEntries.tsx","PatientPage/index.tsx","App.tsx","index.tsx"],"names":["HealthCheckRating","Gender","Type","updatePatient","data","type","payload","initialState","patients","diagnoses","StateContext","createContext","StateProvider","reducer","children","useReducer","state","dispatch","Provider","value","useStateValue","useContext","apiBaseUrl","Header","Toolbar","disableGutters","style","marginBottom","Typography","variant","component","color","flexGrow","Button","RouterLink","to","HEALTHBAR_TEXTS","HEALTHBAR_SHORT_TEXTS","HealthRatingBar","rating","showText","PatientList","checkRating","arr","lastCheck","map","obj","healthCheckRating","pop","TableContainer","Paper","marginTop","Table","aria-label","TableHead","TableRow","TableCell","Hidden","xsDown","align","smDown","TableBody","patient","scope","Link","id","name","gender","occupation","entries","length","FormFieldSelect","field","label","options","Grid","item","xs","sm","TextField","fullWidth","select","option","MenuItem","FormFieldText","form","touched","errors","placeholder","required","error","Boolean","helperText","FormFieldDate","InputLabelProps","shrink","genderOptions","Other","Male","Female","PatientFormBase","formStyle","maxWidth","backgroundColor","padding","PatientSchema","Yup","shape","min","max","dateOfBirth","ssn","AddPatientForm","onSubmit","onCancel","initialValues","validationSchema","isValid","dirty","container","spacing","size","disabled","onClick","ErrorMessage","gutterBottom","AddPatentModal","handleSubmit","handleOpen","handleClose","open","Dialog","onClose","display","alignItems","justifyContent","PatientListPage","useState","setOpen","setError","undefined","submitNewPatient","values","a","axios","post","newPatient","Error","message","alignContent","marginRight","AddPatientModal","Object","PatientDetails","getGender","md","List","ListItem","ListItemText","primary","secondary","FormFieldTextArea","multiline","rows","typeOptions","Hospital","OccupationalHealthcare","HealthCheck","EntryFormBase","EntryFormHospital","discharge","setDischarge","FormControlLabel","control","Switch","checked","onChange","EntryFormOccupationalHealthcare","leave","setLeave","HealthRatingOptions","FormControl","margin","FormLabel","RadioGroup","row","event","num","Number","target","setFieldValue","Radio","EntryFormHealthCheck","EntryFormDiagnosis","setFieldTouched","codes","stateOptions","diagnosis","code","noWrap","Select","multiple","displayEmpty","setTimeout","input","Input","renderValue","selected","join","inputProps","EntrySchema","date","specialist","employerName","when","is","then","otherwise","diagnosisCodes","description","criteria","sickLeave","startDate","endDate","PatientEntryForm","Healthy","AddEntryModal","AddEntryForm","getDate","str","Date","toDateString","getDateRange","start","end","EntryDiagnosis","diagnosisData","filter","includes","disablePadding","EntryCard","Card","CardHeader","avatar","param","Avatar","orange","green","red","getAvatar","title","subheader","CardContent","Divider","EntryHospital","entry","EntryOccupationalHealthcare","EntryHealthCheck","EntryDetails","PatientEntries","marginLeft","PatientPage","useParams","useEffect","fetchPatient","get","patientFromApi","keys","submitNewEntry","updatedEntries","updatedPatient","App","fetchPatientList","patientListFromApi","console","fetchDiagnosisList","diagnosisListFromApi","Container","path","exact","ReactDOM","render","action","reduce","memo","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c1b9e98.chunk.js","sourcesContent":["export interface Diagnosis {\n  code: string;\n  name: string;\n  latin?: string;\n}\n\nexport interface Discharge {\n  date: string;\n  criteria: string;\n}\n\nexport interface SickLeave {\n  startDate: string;\n  endDate: string;\n}\n\nexport enum HealthCheckRating {\n  \"Healthy\" = 1,\n  \"LowRisk\" = 2,\n  \"HighRisk\" = 3,\n  \"CriticalRisk\" = 4,\n}\n\nexport enum Gender {\n  Other = \"other\",\n  Male = \"male\",\n  Female = \"female\",\n}\n\n// entry types\ninterface BaseEntry {\n  id: string;\n  description: string;\n  date: string;\n  specialist?: string;\n  diagnosisCodes?: Array<Diagnosis[\"code\"]>;\n}\n\nexport interface HospitalEntry extends BaseEntry {\n  type: \"Hospital\";\n  discharge?: Discharge;\n}\n\nexport interface OccupationalHealthcareEntry extends BaseEntry {\n  type: \"OccupationalHealthcare\";\n  employerName: string;\n  sickLeave?: SickLeave;\n}\n\nexport interface HealthCheckEntry extends BaseEntry {\n  type: \"HealthCheck\";\n  healthCheckRating: HealthCheckRating;\n}\n\nexport type Entry =\n  | HospitalEntry\n  | OccupationalHealthcareEntry\n  | HealthCheckEntry;\n\n// patient\nexport interface Patient {\n  id: string;\n  name: string;\n  dateOfBirth?: string;\n  ssn?: string;\n  gender: Gender;\n  occupation: string;\n  entries?: Array<Entry>;\n}\n\n// patient form\nexport type PatientFormValues = Omit<Patient, \"id\">;\n\n// entry form\nexport enum Type {\n  Hospital = \"Hospital\",\n  OccupationalHealthcare = \"OccupationalHealthcare\",\n  HealthCheck = \"HealthCheck\",\n}\n\nexport interface EntryFormValues extends Omit<BaseEntry, \"id\"> {\n  type: Type;\n  discharge?: Discharge;\n  employerName?: string;\n  healthCheckRating?: HealthCheckRating;\n  sickLeave?: SickLeave;\n}\n","import { State } from \"./state\";\nimport { Patient, Diagnosis } from \"../types\";\n\nexport type Action =\n  | {\n      type: \"SET_PATIENT_LIST\";\n      payload: Patient[];\n    }\n  | {\n      type: \"ADD_PATIENT\";\n      payload: Patient;\n    }\n  | {\n      type: \"UPDATE_PATIENT\";\n      payload: Patient;\n    }\n  | {\n      type: \"SET_DIAGNOSIS_LIST\";\n      payload: Diagnosis[];\n    };\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"SET_PATIENT_LIST\":\n      return {\n        ...state,\n        patients: {\n          ...action.payload.reduce(\n            (memo, patient) => ({ ...memo, [patient.id]: patient }),\n            {}\n          ),\n          ...state.patients,\n        },\n      };\n    case \"ADD_PATIENT\":\n      return {\n        ...state,\n        patients: {\n          ...state.patients,\n          [action.payload.id]: action.payload,\n        },\n      };\n    case \"UPDATE_PATIENT\":\n      return {\n        ...state,\n        patient: { ...action.payload },\n      };\n    case \"SET_DIAGNOSIS_LIST\":\n      return {\n        ...state,\n        diagnoses: {\n          ...action.payload.reduce(\n            (memo, diagnosis) => ({ ...memo, [diagnosis.code]: diagnosis }),\n            {}\n          ),\n          ...state.diagnoses,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setPatientList = (data: Patient[]): Action => {\n  return {\n    type: \"SET_PATIENT_LIST\",\n    payload: data,\n  };\n};\n\nexport const addPatient = (data: Patient): Action => {\n  return {\n    type: \"ADD_PATIENT\",\n    payload: data,\n  };\n};\n\nexport const updatePatient = (data: Patient): Action => {\n  return {\n    type: \"UPDATE_PATIENT\",\n    payload: data,\n  };\n};\n\nexport const setDiagnosisList = (data: Diagnosis[]): Action => {\n  return {\n    type: \"SET_DIAGNOSIS_LIST\",\n    payload: data,\n  };\n};\n","import React, { createContext, useContext, useReducer } from \"react\";\nimport { Patient, Diagnosis } from \"../types\";\n\nimport { Action } from \"./reducer\";\n\nexport type State = {\n  patients: { [id: string]: Patient };\n  diagnoses: { [id: string]: Diagnosis };\n  patient?: Patient;\n};\n\nconst initialState: State = {\n  patients: {},\n  diagnoses: {},\n};\n\nexport const StateContext = createContext<[State, React.Dispatch<Action>]>([\n  initialState,\n  () => initialState,\n]);\n\ntype StateProviderProps = {\n  reducer: React.Reducer<State, Action>;\n  children: React.ReactElement;\n};\n\nexport const StateProvider: React.FC<StateProviderProps> = ({\n  reducer,\n  children,\n}) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <StateContext.Provider value={[state, dispatch]}>\n      {children}\n    </StateContext.Provider>\n  );\n};\n\nexport const useStateValue = (): [State, React.Dispatch<Action>] =>\n  useContext(StateContext);\n","// export const apiBaseUrl = \"http://localhost:3001/api\";\nexport const apiBaseUrl = \"/api\";","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\n\nconst Header: React.FC = () => (\n  <Toolbar disableGutters style={{ marginBottom: 35 }}>\n    <Typography\n      variant=\"h5\"\n      component=\"h1\"\n      color=\"primary\"\n      style={{ flexGrow: 1 }}\n    >\n      Patientor\n    </Typography>\n    <Button component={RouterLink} to=\"/\" color=\"primary\">\n      Home\n    </Button>\n  </Toolbar>\n);\n\nexport default Header;\n","import React from \"react\";\n\nconst HEALTHBAR_TEXTS = [\n  \"The patient is in great shape\",\n  \"The patient has a low risk of getting sick\",\n  \"The patient has a high risk of getting sick\",\n  \"The patient has a diagnosed condition\",\n];\n\nconst HEALTHBAR_SHORT_TEXTS = [\n  \"Healthy\",\n  \"Low risk\",\n  \"High risk\",\n  \"Critical risk\",\n];\n\ntype BarProps = {\n  rating: number;\n  showText: boolean;\n};\n\nconst HealthRatingBar: React.FC<BarProps> = ({ rating, showText }) => (\n  <>{showText ? HEALTHBAR_TEXTS[rating] : HEALTHBAR_SHORT_TEXTS[rating]}</>\n);\n\nexport default HealthRatingBar;\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Patient, Entry } from \"../types\";\nimport HealthRatingBar from \"../components/HealthRatingBar\";\n\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Link from \"@material-ui/core/Link\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nconst PatientList: React.FC<{ patients: Patient[] }> = ({ patients }) => {\n  const checkRating = (arr: Entry[]): string | React.ReactNode => {\n    // check if health rating has been given\n    const checks = arr.map((obj) =>\n      obj.type === \"HealthCheck\" ? obj.healthCheckRating : null\n    );\n    // get the latest rating\n    const lastCheck = checks.pop();\n\n    if (typeof lastCheck === \"number\") {\n      return <HealthRatingBar rating={lastCheck} showText={false} />;\n    }\n\n    return \"Not given\";\n  };\n\n  return (\n    <TableContainer component={Paper} style={{ marginTop: 35 }}>\n      <Table aria-label=\"patient list\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <Hidden xsDown>\n              <TableCell align=\"right\">Gender</TableCell>\n            </Hidden>\n            <Hidden smDown>\n              <TableCell align=\"right\">Occupation</TableCell>\n            </Hidden>\n            <TableCell align=\"right\">Health Rating</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {patients.map((patient: Patient) => (\n            <TableRow key={patient.id}>\n              <TableCell component=\"th\" scope=\"row\">\n                <Link component={RouterLink} to={`/patients/${patient.id}`}>\n                  {patient.name}\n                </Link>\n              </TableCell>\n              <Hidden xsDown>\n                <TableCell align=\"right\">{patient.gender}</TableCell>\n              </Hidden>\n              <Hidden smDown>\n                <TableCell align=\"right\">{patient.occupation}</TableCell>\n              </Hidden>\n              <TableCell align=\"right\">\n                {patient.entries && patient.entries.length > 0\n                  ? checkRating(patient.entries)\n                  : \"Not given\"}\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default PatientList;\n","import React from \"react\";\nimport { FieldProps } from \"formik\";\nimport { Type, Gender } from \"../types\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\n// Types\nexport type SelectOption = {\n  value: Type | Gender;\n  label: string;\n};\n\ninterface Props extends FieldProps {\n  label: string;\n  options: SelectOption[];\n}\n\nconst FormFieldSelect: React.FC<Props> = ({ field, label, options }) => (\n  <Grid item xs={12} sm={6}>\n    <TextField\n      fullWidth\n      select\n      id={`select-${field.name}`}\n      label={label}\n      {...field}\n    >\n      {options.map((option) => (\n        <MenuItem key={option.value} value={option.value}>\n          {option.label || option.value}\n        </MenuItem>\n      ))}\n    </TextField>\n  </Grid>\n);\n\nexport default FormFieldSelect;\n","import React from \"react\";\nimport { FieldProps } from \"formik\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\n\ninterface Props extends FieldProps {\n  id: string;\n  label: string;\n  placeholder: string;\n  required?: boolean;\n}\n\nconst FormFieldText: React.FC<Props> = ({\n  field,\n  form: { touched, errors },\n  id,\n  label,\n  placeholder,\n  required,\n}) => (\n  <Grid item xs={12}>\n    <TextField\n      fullWidth\n      id={id}\n      label={label}\n      placeholder={placeholder}\n      required={required}\n      error={touched[field.name] && Boolean(errors[field.name])}\n      helperText={touched[field.name] && errors[field.name]}\n      {...field}\n    />\n  </Grid>\n);\n\nexport default FormFieldText;\n","import React from \"react\";\nimport { FieldProps } from \"formik\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\n\ninterface Props extends FieldProps {\n  id: string;\n  label: string;\n  required?: boolean;\n}\n\nconst FormFieldDate: React.FC<Props> = ({\n  field,\n  form: { touched, errors },\n  id,\n  label,\n  required,\n}) => (\n  <Grid item xs={12} sm={6}>\n    <TextField\n      fullWidth\n      id={id}\n      label={label}\n      type=\"date\"\n      required={required}\n      InputLabelProps={{\n        shrink: true,\n      }}\n      error={touched[field.name] && Boolean(errors[field.name])}\n      helperText={touched[field.name] && errors[field.name]}\n      {...field}\n    />\n  </Grid>\n);\n\nexport default FormFieldDate;\n","import React from \"react\";\nimport { Field } from \"formik\";\nimport { Gender } from \"../types\";\nimport FormFieldSelect, { SelectOption } from \"../components/FormFieldSelect\";\nimport FormFieldText from \"../components/FormFieldText\";\nimport FormFieldDate from \"../components/FormFieldDate\";\n\nconst genderOptions: SelectOption[] = [\n  { value: Gender.Other, label: \"Other\" },\n  { value: Gender.Male, label: \"Male\" },\n  { value: Gender.Female, label: \"Female\" },\n];\n\nconst PatientFormBase: React.FC = () => {\n  return (\n    <>\n      <Field\n        id=\"patient-name\"\n        label=\"Name\"\n        placeholder=\"Name\"\n        name=\"name\"\n        component={FormFieldText}\n        required\n      />\n      <Field\n        id=\"patient-gender\"\n        label=\"Gender\"\n        name=\"gender\"\n        options={genderOptions}\n        component={FormFieldSelect}\n        required\n      />\n      <Field\n        id=\"patient-dob\"\n        label=\"Date Of Birth\"\n        name=\"dateOfBirth\"\n        component={FormFieldDate}\n        required\n      />\n      <Field\n        id=\"patient-ssn\"\n        label=\"Social Security Number\"\n        placeholder=\"SSN\"\n        name=\"ssn\"\n        component={FormFieldText}\n        required\n      />\n      <Field\n        id=\"patient-occupation\"\n        label=\"Occupation\"\n        placeholder=\"Occupation\"\n        name=\"occupation\"\n        component={FormFieldText}\n        required\n      />\n    </>\n  );\n};\n\nexport default PatientFormBase;\n","export const formStyle = {\n  flexGrow: 1,\n  maxWidth: 600,\n  backgroundColor: \"white\",\n  padding: \"35px 25px\",\n};\n","import React from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport { PatientFormValues, Gender } from \"../types\";\nimport PatientFormBase from \"./PatientFormBase\";\n\nimport { formStyle } from \"../styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\n\n// Yup\nconst PatientSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Name is too short\")\n    .max(35, \"Name is too long\")\n    .required(\"Name is required\"),\n  dateOfBirth: Yup.date().required(\"DOB is required\"),\n  ssn: Yup.string().min(11).max(12).required(\"SSN is required\"),\n  occupation: Yup.string().min(4).max(35).required(\"Occupation is required\"),\n});\n\ninterface Props {\n  onSubmit: (values: PatientFormValues) => void;\n  onCancel: () => void;\n}\n\nconst AddPatientForm: React.FC<Props> = ({ onSubmit, onCancel }) => (\n  <div>\n    <Formik\n      initialValues={{\n        name: \"\",\n        dateOfBirth: \"\",\n        ssn: \"\",\n        gender: Gender.Other,\n        occupation: \"\",\n      }}\n      onSubmit={onSubmit}\n      validationSchema={PatientSchema}\n    >\n      {({ isValid, dirty }) => {\n        return (\n          <Form style={formStyle}>\n            <Grid container spacing={2}>\n              <PatientFormBase />\n              <Grid item xs={6}>\n                <Button\n                  fullWidth\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  size=\"large\"\n                  disabled={!dirty || !isValid}\n                >\n                  Add\n                </Button>\n              </Grid>\n              <Grid item xs={6}>\n                <Button\n                  fullWidth\n                  type=\"button\"\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                  size=\"large\"\n                  onClick={onCancel}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        );\n      }}\n    </Formik>\n  </div>\n);\n\nexport default AddPatientForm;\n","import React from \"react\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nconst ErrorMessage: React.FC<{ error: string }> = ({ error }) => (\n  <Typography color=\"secondary\" align=\"center\" gutterBottom>\n    Entry not submitted. {error}.\n  </Typography>\n);\n\nexport default ErrorMessage;\n","import React from \"react\";\nimport { PatientFormValues } from \"../types\";\nimport AddPatientForm from \"./AddPatientForm\";\nimport ErrorMessage from \"../components/ErrorMessage\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\ninterface Props {\n  handleSubmit: (values: PatientFormValues) => void;\n  handleOpen: () => void;\n  handleClose: () => void;\n  open: boolean;\n  error?: string;\n}\n\nconst AddPatentModal: React.FC<Props> = ({\n  handleSubmit,\n  handleOpen,\n  handleClose,\n  open,\n  error,\n}) => (\n  <div>\n    <Button type=\"button\" variant=\"outlined\" onClick={handleOpen}>\n      Add New Patient\n    </Button>\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <AddPatientForm onSubmit={handleSubmit} onCancel={handleClose} />\n      {error && <ErrorMessage error={error} />}\n    </Dialog>\n  </div>\n);\n\nexport default AddPatentModal;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { apiBaseUrl } from \"../constants\";\nimport { useStateValue, addPatient } from \"../state\";\nimport { Patient, PatientFormValues } from \"../types\";\nimport PatientList from \"./PatientList\";\nimport AddPatientModal from \"../AddPatientModal\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst PatientListPage: React.FC = () => {\n  const [{ patients }, dispatch] = useStateValue();\n  const [open, setOpen] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const handleError = () => setError(undefined);\n\n  const handleOpen = () => setOpen(true);\n\n  const handleClose = () => {\n    setOpen(false);\n    handleError();\n  };\n\n  const submitNewPatient = async (values: PatientFormValues) => {\n    try {\n      const { data: newPatient } = await axios.post<Patient>(\n        `${apiBaseUrl}/patients`,\n        values\n      );\n\n      handleClose();\n      dispatch(addPatient(newPatient));\n    } catch (err: unknown) {\n      err instanceof Error ? setError(err.message) : setError(\"Unknown Error\");\n    }\n  };\n\n  return (\n    <>\n      <Grid container alignContent=\"center\">\n        <Typography\n          variant=\"h4\"\n          component=\"h3\"\n          color=\"textPrimary\"\n          style={{ marginRight: 25 }}\n        >\n          Patients\n        </Typography>\n        <AddPatientModal\n          handleSubmit={submitNewPatient}\n          handleOpen={handleOpen}\n          handleClose={handleClose}\n          open={open}\n          error={error}\n        />\n      </Grid>\n      <PatientList patients={Object.values(patients)} />\n    </>\n  );\n};\n\nexport default PatientListPage;\n","import React from \"react\";\nimport { Patient } from \"../types\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nconst PatientDetails: React.FC<{ patient: Patient }> = ({ patient }) => {\n  const getGender = (option: string) => {\n    switch (option) {\n      case \"male\":\n        return (\n          <Typography variant=\"h4\" component=\"span\" color=\"primary\">\n            {\"\\u2642\"}\n          </Typography>\n        );\n      case \"female\":\n        return (\n          <Typography variant=\"h4\" component=\"span\" color=\"secondary\">\n            {\"\\u2640\"}\n          </Typography>\n        );\n      default:\n        return (\n          <Typography variant=\"h4\" component=\"span\" color=\"textSecondary\">\n            {\"\\u2642\" + \"\\u2640\"}\n          </Typography>\n        );\n    }\n  };\n\n  return (\n    <Grid container alignContent=\"center\" justifyContent=\"space-between\">\n      <Grid container item xs justifyContent=\"flex-start\">\n        <Typography\n          variant=\"h4\"\n          component=\"h3\"\n          color=\"textPrimary\"\n          style={{ marginRight: 25 }}\n        >\n          {patient.name}\n        </Typography>\n        {getGender(patient.gender)}\n      </Grid>\n      <Grid item xs={12} sm={4} md={6}>\n        <List>\n          <ListItem>\n            <ListItemText primary=\"Ssn:\" secondary={patient.ssn} />\n          </ListItem>\n          <ListItem>\n            <ListItemText\n              primary=\"Occupation:\"\n              secondary={patient.occupation}\n            />\n          </ListItem>\n        </List>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default PatientDetails;\n","import React from \"react\";\nimport { FieldProps } from \"formik\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\n\ninterface Props extends FieldProps {\n  id: string;\n  label: string;\n  placeholder: string;\n  required?: boolean;\n}\n\nconst FormFieldTextArea: React.FC<Props> = ({\n  field,\n  form: { touched, errors },\n  id,\n  label,\n  placeholder,\n  required,\n}) => (\n  <Grid item xs={12}>\n    <TextField\n      fullWidth\n      multiline\n      id={id}\n      label={label}\n      placeholder={placeholder}\n      required={required}\n      rows=\"2\"\n      error={touched[field.name] && Boolean(errors[field.name])}\n      helperText={touched[field.name] && errors[field.name]}\n      {...field}\n    />\n  </Grid>\n);\n\nexport default FormFieldTextArea;\n","import React from \"react\";\nimport { Field } from \"formik\";\nimport { Type } from \"../types\";\nimport FormFieldSelect, { SelectOption } from \"../components/FormFieldSelect\";\nimport FormFieldText from \"../components/FormFieldText\";\nimport FormFieldDate from \"../components/FormFieldDate\";\nimport FormFieldTextArea from \"../components/FormFieldTextArea\";\n\nconst typeOptions: SelectOption[] = [\n  { value: Type.Hospital, label: \"Hospital\" },\n  { value: Type.OccupationalHealthcare, label: \"Occupational Healthcare\" },\n  { value: Type.HealthCheck, label: \"Health Check\" },\n];\n\nconst EntryFormBase: React.FC = () => (\n  <>\n    <Field\n      label=\"Type\"\n      name=\"type\"\n      options={typeOptions}\n      component={FormFieldSelect}\n    />\n    <Field\n      id=\"entry-date\"\n      label=\"Date\"\n      name=\"date\"\n      component={FormFieldDate}\n      required\n    />\n    <Field\n      id=\"entry-description\"\n      label=\"Description\"\n      placeholder=\"Add description\"\n      name=\"description\"\n      component={FormFieldTextArea}\n      required\n    />\n    <Field\n      id=\"entry-specialist\"\n      label=\"Specialist\"\n      placeholder=\"Add specialist\"\n      name=\"specialist\"\n      component={FormFieldText}\n      required\n    />\n  </>\n);\n\nexport default EntryFormBase;\n","import React, { useState } from \"react\";\nimport { Field } from \"formik\";\nimport FormFieldDate from \"../components/FormFieldDate\";\nimport FormFieldTextArea from \"../components/FormFieldTextArea\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst EntryFormHospital: React.FC = () => {\n  const [discharge, setDischarge] = useState<boolean>(false);\n\n  return (\n    <>\n      <Grid item xs={12}>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={discharge}\n              onChange={() => setDischarge(!discharge)}\n              name=\"discharge\"\n              color=\"primary\"\n            />\n          }\n          label=\"Discharge form hospital\"\n        />\n      </Grid>\n      {discharge && (\n        <>\n          <Field\n            id=\"entry-discharge-date\"\n            label=\"Discharge date\"\n            name=\"discharge.date\"\n            component={FormFieldDate}\n          />\n          <Field\n            id=\"entry-discharge-criteriae\"\n            label=\"Criteria\"\n            placeholder=\"Criteria\"\n            name=\"discharge.criteria\"\n            component={FormFieldTextArea}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default EntryFormHospital;\n","import React, { useState } from \"react\";\nimport { Field } from \"formik\";\nimport FormFieldText from \"../components/FormFieldText\";\nimport FormFieldDate from \"../components/FormFieldDate\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst EntryFormOccupationalHealthcare: React.FC = () => {\n  const [leave, setLeave] = useState<boolean>(false);\n\n  return (\n    <>\n      <Field\n        id=\"entry-employer-name\"\n        label=\"Employer Name\"\n        placeholder=\"Add employer's name\"\n        name=\"employerName\"\n        component={FormFieldText}\n        required\n      />\n      <Grid item xs={12}>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={leave}\n              onChange={() => setLeave(!leave)}\n              name=\"sickLeave\"\n              color=\"primary\"\n            />\n          }\n          label=\"Assign sick leave\"\n        />\n      </Grid>\n      {leave && (\n        <>\n          <Field\n            id=\"entry-sickleave-start-date\"\n            label=\"Start date\"\n            name=\"sickLeave.startDate\"\n            component={FormFieldDate}\n          />\n          <Field\n            id=\"entry-sickleave-end-date\"\n            label=\"End date\"\n            name=\"sickLeave.endDate\"\n            component={FormFieldDate}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default EntryFormOccupationalHealthcare;\n","import React from \"react\";\nimport { FieldProps } from \"formik\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\n\ninterface Props extends FieldProps<{ value: number }> {\n  label: string;\n}\n\nconst HealthRatingOptions: React.FC<Props> = ({ form, field, label }) => {\n  const handleChange = (event: React.ChangeEvent<{ value: string }>) => {\n    // change event target value to number\n    const num = Number(event.target.value);\n\n    form.setFieldValue(field.name, num);\n  };\n\n  return (\n    <Grid item xs={12}>\n      <FormControl fullWidth component=\"fieldset\" margin=\"dense\">\n        <FormLabel component=\"legend\" disabled>\n          {label}\n        </FormLabel>\n        <RadioGroup\n          row\n          aria-label=\"health rating\"\n          value={field.value}\n          onChange={handleChange}\n        >\n          <FormControlLabel value={1} control={<Radio />} label=\"Healthy\" />\n          <FormControlLabel value={2} control={<Radio />} label=\"Low risk\" />\n          <FormControlLabel value={3} control={<Radio />} label=\"High risk\" />\n          <FormControlLabel\n            value={4}\n            control={<Radio />}\n            label=\"Critical risk\"\n          />\n        </RadioGroup>\n      </FormControl>\n    </Grid>\n  );\n};\n\nexport default HealthRatingOptions;\n","import React from \"react\";\nimport { Field } from \"formik\";\nimport HealthRatingOptions from \"./HealthRatingOptions\";\n\nconst EntryFormHealthCheck: React.FC = () => (\n  <Field\n    label=\"Health Rating\"\n    name=\"healthCheckRating\"\n    component={HealthRatingOptions}\n  />\n);\n\nexport default EntryFormHealthCheck;\n","import React from \"react\";\nimport { FormikProps } from \"formik\";\nimport { Diagnosis } from \"../types\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Input from \"@material-ui/core/Input\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Typography from \"@material-ui/core/Typography\";\n\ninterface Props {\n  setFieldValue: FormikProps<{ diagnosisCodes: string[] }>[\"setFieldValue\"];\n  setFieldTouched: FormikProps<{ diagnosisCodes: string[] }>[\"setFieldTouched\"];\n  diagnoses: Diagnosis[];\n  codes: string[] | undefined;\n}\n\nconst EntryFormDiagnosis: React.FC<Props> = ({\n  setFieldValue,\n  setFieldTouched,\n  diagnoses,\n  codes,\n}) => {\n  const field = \"diagnosisCodes\";\n\n  const handleChange = (event: React.ChangeEvent<{ value: string[] }>) => {\n    setFieldValue(field, event.target.value);\n    setTimeout(() => setFieldTouched(field, true));\n  };\n\n  const stateOptions = diagnoses.map((diagnosis: Diagnosis) => (\n    <MenuItem key={diagnosis.code} value={diagnosis.code}>\n      <Typography variant=\"inherit\" noWrap>\n        {diagnosis.name} ({diagnosis.code})\n      </Typography>\n    </MenuItem>\n  ));\n\n  return (\n    <Grid item xs={12}>\n      <FormControl fullWidth>\n        <Select\n          multiple\n          displayEmpty\n          value={codes}\n          onChange={handleChange}\n          input={<Input />}\n          renderValue={(selected) => (\n            <Typography variant=\"inherit\" style={{ padding: \"10px 14px\" }}>\n              {selected.length === 0 ? \"Add Diagnosis\" : selected.join(\", \")}\n            </Typography>\n          )}\n          inputProps={{ \"aria-label\": \"diagnosis\" }}\n        >\n          <MenuItem disabled value=\"\">\n            <Typography variant=\"inherit\">Diagnosis</Typography>\n          </MenuItem>\n          {stateOptions}\n        </Select>\n      </FormControl>\n    </Grid>\n  );\n};\n\nexport default EntryFormDiagnosis;\n","import React from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport { useStateValue } from \"../state\";\nimport { EntryFormValues, Type, HealthCheckRating } from \"../types\";\nimport EntryFormBase from \"./EntryFormBase\";\nimport EntryFormHospital from \"./EntryFormHospital\";\nimport EntryFormOccupationalHealthcare from \"./EntryFormOccupationalHealthcare\";\nimport EntryFormHealthCheck from \"./EntryFormHealthCheck\";\nimport EntryFormDiagnosis from \"./EntryFormDiagnosis\";\n\nimport { formStyle } from \"../styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\n\n// Yup\nconst EntrySchema = Yup.object().shape({\n  date: Yup.date().required(\"Date is required\"),\n  type: Yup.string(),\n  specialist: Yup.string()\n    .min(2, \"Name is too short\")\n    .max(35, \"Name is too long\")\n    .required(\"Specialist is required\"),\n  employerName: Yup.string()\n    .when(\"type\", {\n      is: Type.OccupationalHealthcare,\n      then: Yup.string().required(\"Employer is required\"),\n      otherwise: Yup.string(),\n    })\n    .max(35, \"Employer name is too long\"),\n  diagnosisCodes: Yup.array(),\n  description: Yup.string()\n    .max(500, \"Description is too long\")\n    .required(\"Description is required\"),\n  discharge: Yup.object().shape({\n    date: Yup.date(),\n    criteria: Yup.string()\n      .min(2, \"Text is too short\")\n      .max(250, \"Text is too long\"),\n  }),\n  sickLeave: Yup.object().shape({\n    startDate: Yup.date(),\n    endDate: Yup.date(),\n  }),\n  healthCheckRating: Yup.number(),\n});\n\ninterface Props {\n  onSubmit: (values: EntryFormValues) => void;\n  onCancel: () => void;\n}\n\nconst PatientEntryForm: React.FC<Props> = ({ onSubmit, onCancel }) => {\n  const [{ diagnoses }] = useStateValue();\n\n  return (\n    <Formik\n      initialValues={{\n        date: \"\",\n        type: Type.Hospital,\n        specialist: \"\",\n        employerName: \"\",\n        diagnosisCodes: [],\n        description: \"\",\n        discharge: {\n          date: \"\",\n          criteria: \"\",\n        },\n        sickLeave: {\n          startDate: \"\",\n          endDate: \"\",\n        },\n        healthCheckRating: HealthCheckRating.Healthy,\n      }}\n      onSubmit={onSubmit}\n      validationSchema={EntrySchema}\n    >\n      {({ values, isValid, dirty, setFieldValue, setFieldTouched }) => {\n        return (\n          <Form style={formStyle}>\n            <Grid container spacing={2}>\n              <EntryFormBase />\n              {values.type === Type.Hospital && <EntryFormHospital />}\n              {values.type === Type.OccupationalHealthcare && (\n                <EntryFormOccupationalHealthcare />\n              )}\n              {values.type === Type.HealthCheck && <EntryFormHealthCheck />}\n              <EntryFormDiagnosis\n                setFieldValue={setFieldValue}\n                setFieldTouched={setFieldTouched}\n                diagnoses={Object.values(diagnoses)}\n                codes={values.diagnosisCodes}\n              />\n              <Grid item xs={6}>\n                <Button\n                  fullWidth\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  size=\"large\"\n                  disabled={!dirty || !isValid}\n                >\n                  Add\n                </Button>\n              </Grid>\n              <Grid item xs={6}>\n                <Button\n                  fullWidth\n                  type=\"button\"\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                  size=\"large\"\n                  onClick={onCancel}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default PatientEntryForm;\n","import React from \"react\";\nimport { EntryFormValues } from \"../types\";\nimport AddEntryForm from \"./AddEntryForm\";\nimport ErrorMessage from \"../components/ErrorMessage\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\ninterface Props {\n  handleSubmit: (values: EntryFormValues) => void;\n  handleOpen: () => void;\n  handleClose: () => void;\n  open: boolean;\n  error?: string;\n}\n\nconst AddEntryModal: React.FC<Props> = ({\n  handleSubmit,\n  handleOpen,\n  handleClose,\n  open,\n  error,\n}) => (\n  <div>\n    <Button type=\"button\" variant=\"outlined\" onClick={handleOpen}>\n      Add New Entry\n    </Button>\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <AddEntryForm onSubmit={handleSubmit} onCancel={handleClose} />\n      {error && <ErrorMessage error={error} />}\n    </Dialog>\n  </div>\n);\n\nexport default AddEntryModal;\n","// Change date format ie. from 2021-01-01 to Fri Jan 01 2021\nexport const getDate = (str: string): string => {\n  const date = new Date(str);\n  return date.toDateString();\n};\n\n// Change date range format\nexport const getDateRange = (start: string, end: string): string => {\n  const startDate = new Date(start);\n  const endDate = new Date(end);\n\n  return `from ${startDate.toDateString()} to ${endDate.toDateString()}`;\n};\n","import React from \"react\";\nimport { useStateValue } from \"../state\";\nimport { Diagnosis } from \"../types\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst EntryDiagnosis: React.FC<{ codes: Array<Diagnosis[\"code\"]> }> = ({\n  codes,\n}) => {\n  const [{ diagnoses }] = useStateValue();\n\n  const diagnosisData = Object.values(diagnoses).filter((diagnosis) =>\n    codes.includes(diagnosis.code)\n  );\n\n  return (\n    <>\n      <Typography variant=\"h6\">Diagnosis:</Typography>\n      <List disablePadding>\n        {diagnosisData.map((diagnosis) => (\n          <ListItem key={diagnosis.code}>\n            <ListItemText primary={diagnosis.name} secondary={diagnosis.code} />\n          </ListItem>\n        ))}\n      </List>\n    </>\n  );\n};\n\nexport default EntryDiagnosis;\n","import React, { ReactChild, ReactChildren } from \"react\";\nimport { getDate } from \"../utils\";\nimport { Diagnosis } from \"../types\";\nimport EntryDiagnosis from \"./EntryDiagnosis\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport LocalHospital from \"@material-ui/icons/LocalHospital\";\nimport HomeRepairService from \"@material-ui/icons/HomeRepairService\";\nimport Poll from \"@material-ui/icons/Poll\";\nimport { red, orange, green } from \"@material-ui/core/colors\";\n\ninterface Props {\n  type: string;\n  date: string;\n  description: string;\n  codes?: Array<Diagnosis[\"code\"]>;\n  children?: ReactChild | ReactChildren;\n}\n\nconst EntryCard: React.FC<Props> = ({\n  type,\n  date,\n  description,\n  codes,\n  children,\n}) => {\n  const getAvatar = (param: string) => {\n    switch (param) {\n      case \"Occupational Healthcare\":\n        return (\n          <Avatar style={{ backgroundColor: orange[700] }}>\n            <HomeRepairService />\n          </Avatar>\n        );\n      case \"Health Check\":\n        return (\n          <Avatar style={{ backgroundColor: green[700] }}>\n            <Poll />\n          </Avatar>\n        );\n      default:\n        return (\n          <Avatar style={{ backgroundColor: red[700] }}>\n            <LocalHospital />\n          </Avatar>\n        );\n    }\n  };\n\n  return (\n    <Grid item xs={12}>\n      <Card>\n        <CardHeader\n          avatar={getAvatar(type)}\n          title={type}\n          subheader={getDate(date)}\n        />\n        <CardContent>\n          {codes && codes.length > 0 ? <EntryDiagnosis codes={codes} /> : null}\n          <Typography\n            color=\"textSecondary\"\n            component=\"p\"\n            style={{ marginBottom: 15 }}\n          >\n            {description}\n          </Typography>\n          {children && (\n            <>\n              <Divider variant=\"fullWidth\" />\n              <div style={{ marginTop: 15 }}>{children}</div>\n            </>\n          )}\n        </CardContent>\n      </Card>\n    </Grid>\n  );\n};\n\nexport default EntryCard;\n","import React from \"react\";\nimport { HospitalEntry } from \"../types\";\nimport { getDate } from \"../utils\";\nimport EntryCard from \"./EntryCard\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nconst EntryHospital: React.FC<{ entry: HospitalEntry }> = ({ entry }) => (\n  <EntryCard\n    type=\"Hospital\"\n    date={entry.date}\n    description={entry.description}\n    codes={entry.diagnosisCodes}\n  >\n    {entry.discharge ? (\n      <>\n        <Typography gutterBottom component=\"p\">\n          Discharged from hospital on {getDate(entry.discharge.date)}.\n        </Typography>\n        <Typography component=\"p\">\n          Discharge criteria: {entry.discharge.criteria}\n        </Typography>\n      </>\n    ) : (\n      \"\"\n    )}\n  </EntryCard>\n);\n\nexport default EntryHospital;\n","import React from \"react\";\nimport { OccupationalHealthcareEntry } from \"../types\";\nimport { getDateRange } from \"../utils\";\nimport EntryCard from \"./EntryCard\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nconst EntryOccupationalHealthcare: React.FC<{\n  entry: OccupationalHealthcareEntry;\n}> = ({ entry }) => (\n  <EntryCard\n    type=\"Occupational Healthcare\"\n    date={entry.date}\n    description={entry.description}\n    codes={entry.diagnosisCodes}\n  >\n    <>\n      {entry.sickLeave && (\n        <Typography gutterBottom component=\"p\">\n          On sick leave{\" \"}\n          {getDateRange(entry.sickLeave.startDate, entry.sickLeave.endDate)}.\n        </Typography>\n      )}\n      <Typography component=\"p\">Employer: {entry.employerName}</Typography>\n    </>\n  </EntryCard>\n);\n\nexport default EntryOccupationalHealthcare;\n","import React from \"react\";\nimport { HealthCheckEntry } from \"../types\";\nimport EntryCard from \"./EntryCard\";\nimport HealthRatingBar from \"./HealthRatingBar\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nconst EntryHealthCheck: React.FC<{ entry: HealthCheckEntry }> = ({ entry }) => (\n  <EntryCard\n    type=\"Health Check\"\n    date={entry.date}\n    description={entry.description}\n    codes={entry.diagnosisCodes}\n  >\n    <Typography component=\"p\">\n      Health assessment:{\" \"}\n      {<HealthRatingBar rating={entry.healthCheckRating} showText />}\n    </Typography>\n  </EntryCard>\n);\n\nexport default EntryHealthCheck;\n","import React from \"react\";\nimport { Entry } from \"../types\";\n\nimport EntryHospital from \"./EntryHospital\";\nimport EntryOccupationalHealthcare from \"./EntryOccupationalHealthcare\";\nimport EntryHealthCheck from \"./EntryHealthCheck\";\n\nconst EntryDetails: React.FC<{ entry: Entry }> = ({ entry }) => {\n  switch (entry.type) {\n    case \"Hospital\":\n      return <EntryHospital entry={entry} />;\n    case \"OccupationalHealthcare\":\n      return <EntryOccupationalHealthcare entry={entry} />;\n    case \"HealthCheck\":\n      return <EntryHealthCheck entry={entry} />;\n    default:\n      /* https://stackoverflow.com/questions/39419170/how-do-i-check-that-a-switch-block-is-exhaustive-in-typescript */\n      ((entry: string): never => {\n        throw new Error(`${entry} is an unknown entry type`);\n      })(entry);\n  }\n};\n\nexport default EntryDetails;\n","import React from \"react\";\nimport { Entry, EntryFormValues } from \"../types\";\nimport AddEntryModal from \"../AddEntryModal\";\nimport EntryDetails from \"../components/EntryDetails\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\ninterface EntryProps {\n  entries: Entry[] | undefined;\n  handleSubmit: (values: EntryFormValues) => void;\n  handleOpen: () => void;\n  handleClose: () => void;\n  open: boolean;\n  error?: string;\n}\n\nconst PatientEntries: React.FC<EntryProps> = ({\n  entries,\n  handleSubmit,\n  handleOpen,\n  handleClose,\n  open,\n  error,\n}) => (\n  <Grid container>\n    <Typography\n      variant=\"h5\"\n      component=\"h4\"\n      color=\"textPrimary\"\n      style={{ marginRight: 25 }}\n    >\n      Entries\n    </Typography>\n    <AddEntryModal\n      handleSubmit={handleSubmit}\n      handleOpen={handleOpen}\n      handleClose={handleClose}\n      open={open}\n      error={error}\n    />\n    <Grid container item xs={12} spacing={3} style={{ marginTop: 25 }}>\n      {entries && entries.length > 0 ? (\n        entries.map((entry) => <EntryDetails key={entry.id} entry={entry} />)\n      ) : (\n        <Typography\n          component=\"h6\"\n          color=\"textSecondary\"\n          style={{ marginLeft: 15 }}\n        >\n          No entries\n        </Typography>\n      )}\n    </Grid>\n  </Grid>\n);\n\nexport default PatientEntries;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { apiBaseUrl } from \"../constants\";\nimport { useStateValue, updatePatient } from \"../state\";\nimport { Patient, EntryFormValues } from \"../types\";\nimport PatientDetails from \"./PatientDetails\";\nimport PatientEntries from \"./PatientEntries\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nconst PatientPage: React.FC = () => {\n  const [{ patients, patient }, dispatch] = useStateValue();\n  const { id } = useParams<{ id: string }>();\n  const [open, setOpen] = useState<boolean>(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const handleOpen = () => setOpen(true);\n\n  const handleError = () => setError(undefined);\n\n  const handleClose = () => {\n    setOpen(false);\n    handleError();\n  };\n\n  useEffect(() => {\n    const fetchPatient = async () => {\n      try {\n        const { data: patientFromApi } = await axios.get<Patient>(\n          `${apiBaseUrl}/patients/${id}`\n        );\n\n        dispatch(updatePatient(patientFromApi));\n      } catch (err: unknown) {\n        err instanceof Error\n          ? setError(err.message)\n          : setError(\"Unknown Error\");\n      }\n    };\n\n    if (!patient || patient.id !== id) {\n      const checkPatientList = Object.keys(patients).includes(id);\n\n      checkPatientList ? void fetchPatient() : null;\n    }\n  }, [patient]);\n\n  const submitNewEntry = async (values: EntryFormValues) => {\n    try {\n      const { data: updatedEntries } = await axios.post<Patient[\"entries\"]>(\n        `${apiBaseUrl}/patients/${id}/entries`,\n        values\n      );\n\n      if (patient) {\n        const updatedPatient = {\n          ...patient,\n          entries: updatedEntries,\n        };\n\n        handleClose();\n        dispatch(updatePatient(updatedPatient));\n      }\n    } catch (err: unknown) {\n      err instanceof Error ? setError(err.message) : setError(\"Unknown Error\");\n    }\n  };\n\n  if (patient && patient.id !== id) {\n    return <Typography>Loading...</Typography>;\n  }\n\n  if (!patient) {\n    return <Typography>No such patient exist in the database.</Typography>;\n  }\n\n  return (\n    <>\n      <PatientDetails patient={patient} />\n      <PatientEntries\n        entries={patient.entries}\n        handleSubmit={submitNewEntry}\n        handleOpen={handleOpen}\n        handleClose={handleClose}\n        open={open}\n        error={error}\n      />\n    </>\n  );\n};\n\nexport default PatientPage;\n","import React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { apiBaseUrl } from \"./constants\";\nimport { useStateValue, setPatientList, setDiagnosisList } from \"./state\";\nimport { Patient, Diagnosis } from \"./types\";\nimport Header from \"./components/Header\";\nimport PatientListPage from \"./PatientListPage\";\nimport PatientPage from \"./PatientPage\";\n\nimport Container from \"@material-ui/core/Container\";\n\nconst App: React.FC = () => {\n  const [, dispatch] = useStateValue();\n\n  useEffect(() => {\n    // axios.get<void>(`${apiBaseUrl}/ping`);\n\n    const fetchPatientList = async () => {\n      try {\n        const { data: patientListFromApi } = await axios.get<Patient[]>(\n          `${apiBaseUrl}/patients`\n        );\n\n        dispatch(setPatientList(patientListFromApi));\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    const fetchDiagnosisList = async () => {\n      try {\n        const { data: diagnosisListFromApi } = await axios.get<Diagnosis[]>(\n          `${apiBaseUrl}/diagnosis`\n        );\n        dispatch(setDiagnosisList(diagnosisListFromApi));\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    void fetchPatientList();\n    void fetchDiagnosisList();\n  }, [dispatch]);\n\n  return (\n    <Router>\n      <Container>\n        <Header />\n        <Switch>\n          <Route path=\"/patients/:id\">\n            <PatientPage />\n          </Route>\n          <Route exact path=\"/\">\n            <PatientListPage />\n          </Route>\n        </Switch>\n      </Container>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { reducer, StateProvider } from \"./state\";\n// import reportWebVitals from './reportWebVitals';\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <StateProvider reducer={reducer}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </StateProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n//\n"],"sourceRoot":""}