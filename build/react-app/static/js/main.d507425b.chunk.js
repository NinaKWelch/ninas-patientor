(this.webpackJsonppatientor=this.webpackJsonppatientor||[]).push([[0],{306:function(e,t,a){"use strict";a.r(t);var n,r,c,i=a(1),s=a(0),o=a.n(s),l=a(51),d=a.n(l),j=a(12),u=a(10),h=function(e){return{type:"ADD_PATIENT",payload:e}},b=function(e){return{type:"UPDATE_PATIENT",payload:e}},p=a(7),O={patients:{},diagnoses:{}},x=Object(s.createContext)([O,function(){return O}]),m=function(e){var t=e.reducer,a=e.children,n=Object(s.useReducer)(t,O),r=Object(p.a)(n,2),c=r[0],o=r[1];return Object(i.jsx)(x.Provider,{value:[c,o],children:a})},g=function(){return Object(s.useContext)(x)},f=a(30),y=a.n(f),v=a(52),k=a(53),C=a.n(k),S=a(47),w=a(18),T="/api",D=a(352),H=a(41),q=a(356),E=a(357),N=function(){return Object(i.jsxs)(D.a,{disableGutters:!0,style:{marginBottom:35},children:[Object(i.jsx)(H.a,{component:"h1",variant:"h5",style:{flexGrow:1},children:Object(i.jsx)(q.a,{component:S.b,to:"/",underline:"none",color:"primary",variant:"inherit",children:"Patientor"})}),Object(i.jsx)(E.a,{component:S.b,to:"/",color:"primary",children:"Home"})]})},F=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],R=["Healthy","Low risk","High risk","Critical risk"],A=function(e){var t=e.rating,a=e.showText,n=t-1;return Object(i.jsx)(i.Fragment,{children:a?F[n]:R[n]})},L=a(358),I=a(359),P=a(360),B=a(363),W=a(361),_=a(362),V=a(310),G=a(380),U=function(e){var t=e.patients;return Object(i.jsx)(L.a,{component:V.a,style:{marginTop:35},children:Object(i.jsxs)(I.a,{"aria-label":"patient list",children:[Object(i.jsx)(P.a,{children:Object(i.jsxs)(W.a,{children:[Object(i.jsx)(_.a,{children:"Name"}),Object(i.jsx)(G.a,{xsDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:"Gender"})}),Object(i.jsx)(G.a,{smDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:"Occupation"})}),Object(i.jsx)(_.a,{align:"right",children:"Health Rating"})]})}),Object(i.jsx)(B.a,{children:t.map((function(e){return Object(i.jsxs)(W.a,{children:[Object(i.jsx)(_.a,{component:"th",scope:"row",children:Object(i.jsx)(q.a,{component:S.b,to:"/patients/".concat(e.id),children:e.name})}),Object(i.jsx)(G.a,{xsDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:e.gender})}),Object(i.jsx)(G.a,{smDown:!0,children:Object(i.jsx)(_.a,{align:"right",children:e.occupation})}),Object(i.jsx)(_.a,{align:"right",children:"number"===typeof e.healthRating?Object(i.jsx)(A,{rating:e.healthRating,showText:!1}):e.healthRating})]},e.id)}))})]})})},z=a(17),M=a(16);!function(e){e[e.Healthy=1]="Healthy",e[e.LowRisk=2]="LowRisk",e[e.HighRisk=3]="HighRisk",e[e.CriticalRisk=4]="CriticalRisk"}(n||(n={})),function(e){e.Other="other",e.Male="male",e.Female="female"}(r||(r={})),function(e){e.Hospital="Hospital",e.OccupationalHealthcare="OccupationalHealthcare",e.HealthCheck="HealthCheck"}(c||(c={}));var J=a(364),K=a(384),Q=a(370),X=function(e){var t=e.field,a=e.label,n=e.options;return Object(i.jsx)(J.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(K.a,Object(u.a)(Object(u.a)({fullWidth:!0,select:!0,id:"select-".concat(t.name),label:a},t),{},{children:n.map((function(e){return Object(i.jsx)(Q.a,{value:e.value,children:e.label||e.value},e.value)}))}))})},Y=function(e){var t=e.field,a=e.form,n=a.touched,r=a.errors,c=e.id,s=e.label,o=e.placeholder,l=e.required;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(K.a,Object(u.a)({fullWidth:!0,id:c,label:s,placeholder:o,required:l,error:n[t.name]&&Boolean(r[t.name]),helperText:n[t.name]&&r[t.name]},t))})},Z=function(e){var t=e.field,a=e.form,n=a.touched,r=a.errors,c=e.id,s=e.label,o=e.required;return Object(i.jsx)(J.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(K.a,Object(u.a)({fullWidth:!0,id:c,label:s,type:"date",required:o,InputLabelProps:{shrink:!0},error:n[t.name]&&Boolean(r[t.name]),helperText:n[t.name]&&r[t.name]},t))})},$=[{value:r.Other,label:"Other"},{value:r.Male,label:"Male"},{value:r.Female,label:"Female"}],ee=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"patient-name",label:"Name",placeholder:"Name",name:"name",component:Y,required:!0}),Object(i.jsx)(M.a,{id:"patient-gender",label:"Gender",name:"gender",options:$,component:X,required:!0}),Object(i.jsx)(M.a,{id:"patient-dob",label:"Date Of Birth",name:"dateOfBirth",component:Z,required:!0}),Object(i.jsx)(M.a,{id:"patient-ssn",label:"Social Security Number",placeholder:"SSN",name:"ssn",component:Y,required:!0}),Object(i.jsx)(M.a,{id:"patient-occupation",label:"Occupation",placeholder:"Occupation",name:"occupation",component:Y,required:!0})]})},te={flexGrow:1,maxWidth:600,backgroundColor:"white",padding:"35px 25px"},ae=z.d().shape({name:z.e().min(2,"Name is too short").max(35,"Name is too long").required("Name is required"),dateOfBirth:z.b().required("DOB is required"),ssn:z.e().min(11).max(12).required("SSN is required"),occupation:z.e().min(4).max(35).required("Occupation is required")}),ne=function(e){var t=e.onSubmit,a=e.onCancel;return Object(i.jsx)("div",{children:Object(i.jsx)(M.c,{initialValues:{name:"",dateOfBirth:"",ssn:"",gender:r.Other,occupation:""},onSubmit:t,validationSchema:ae,children:function(e){var t=e.isValid,n=e.dirty;return Object(i.jsx)(M.b,{style:te,children:Object(i.jsxs)(J.a,{container:!0,spacing:2,children:[Object(i.jsx)(ee,{}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(E.a,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",size:"large",disabled:!n||!t,children:"Add"})}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(E.a,{fullWidth:!0,type:"button",color:"secondary",variant:"outlined",size:"large",onClick:a,children:"Cancel"})})]})})}})})},re=function(e){var t=e.error;return Object(i.jsxs)(H.a,{color:"secondary",align:"center",gutterBottom:!0,children:["Entry not submitted. ",t,"."]})},ce=a(383),ie=function(e){var t=e.handleSubmit,a=e.handleOpen,n=e.handleClose,r=e.open,c=e.error;return Object(i.jsxs)("div",{children:[Object(i.jsx)(E.a,{type:"button",variant:"outlined",onClick:a,children:"Add New Patient"}),Object(i.jsxs)(ce.a,{open:r,onClose:n,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(ne,{onSubmit:t,onCancel:n}),c&&Object(i.jsx)(re,{error:c})]})]})},se=function(){var e=g(),t=Object(p.a)(e,2),a=t[0].patients,n=t[1],r=Object(s.useState)(!1),c=Object(p.a)(r,2),o=c[0],l=c[1],d=Object(s.useState)(),j=Object(p.a)(d,2),b=j[0],O=j[1],x=function(){l(!1),O(void 0)},m=function(){var e=Object(v.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat(T,"/patients"),t);case 3:a=e.sent,r=a.data,x(),n(h(Object(u.a)(Object(u.a)({},r),{},{healthRating:"Not given"}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?O(e.t0.message):O("Unknown Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(J.a,{container:!0,alignContent:"center",children:[Object(i.jsx)(H.a,{variant:"h4",component:"h3",color:"textPrimary",style:{marginRight:25},children:"Patients"}),Object(i.jsx)(ie,{handleSubmit:m,handleOpen:function(){return l(!0)},handleClose:x,open:o,error:b})]}),Object(i.jsx)(U,{patients:Object.values(a)})]})},oe=a(369),le=a(311),de=a(371),je=function(e){var t=e.patient;return Object(i.jsxs)(J.a,{container:!0,alignContent:"center",justifyContent:"space-between",children:[Object(i.jsxs)(J.a,{container:!0,item:!0,xs:!0,justifyContent:"flex-start",children:[Object(i.jsx)(H.a,{variant:"h4",component:"h3",color:"textPrimary",style:{marginRight:25},children:t.name}),function(e){switch(e){case"male":return Object(i.jsx)(H.a,{variant:"h4",component:"span",color:"primary",children:"\u2642"});case"female":return Object(i.jsx)(H.a,{variant:"h4",component:"span",color:"secondary",children:"\u2640"});default:return Object(i.jsx)(H.a,{variant:"h4",component:"span",color:"textSecondary",children:"\u2642\u2640"})}}(t.gender)]}),Object(i.jsx)(J.a,{item:!0,xs:12,sm:4,md:6,children:Object(i.jsxs)(oe.a,{children:[Object(i.jsx)(le.a,{children:Object(i.jsx)(de.a,{primary:"Ssn:",secondary:t.ssn})}),Object(i.jsx)(le.a,{children:Object(i.jsx)(de.a,{primary:"Occupation:",secondary:t.occupation})})]})})]})},ue=function(e){var t=e.field,a=e.form,n=a.touched,r=a.errors,c=e.id,s=e.label,o=e.placeholder,l=e.required;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(K.a,Object(u.a)({fullWidth:!0,multiline:!0,id:c,label:s,placeholder:o,required:l,rows:"2",error:n[t.name]&&Boolean(r[t.name]),helperText:n[t.name]&&r[t.name]},t))})},he=[{value:c.Hospital,label:"Hospital"},{value:c.OccupationalHealthcare,label:"Occupational Healthcare"},{value:c.HealthCheck,label:"Health Check"}],be=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{label:"Type",name:"type",options:he,component:X}),Object(i.jsx)(M.a,{id:"entry-date",label:"Date",name:"date",component:Z,required:!0}),Object(i.jsx)(M.a,{id:"entry-description",label:"Description",placeholder:"Add description",name:"description",component:ue,required:!0}),Object(i.jsx)(M.a,{id:"entry-specialist",label:"Specialist",placeholder:"Add specialist",name:"specialist",component:Y,required:!0})]})},pe=a(372),Oe=a(373),xe=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(pe.a,{control:Object(i.jsx)(Oe.a,{checked:a,onChange:function(){return n(!a)},name:"discharge",color:"primary"}),label:"Discharge form hospital"})}),a&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"entry-discharge-date",label:"Discharge date",name:"discharge.date",component:Z}),Object(i.jsx)(M.a,{id:"entry-discharge-criteriae",label:"Criteria",placeholder:"Criteria",name:"discharge.criteria",component:ue})]})]})},me=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"entry-employer-name",label:"Employer Name",placeholder:"Add employer's name",name:"employerName",component:Y,required:!0}),Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(pe.a,{control:Object(i.jsx)(Oe.a,{checked:a,onChange:function(){return n(!a)},name:"sickLeave",color:"primary"}),label:"Assign sick leave"})}),a&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(M.a,{id:"entry-sickleave-start-date",label:"Start date",name:"sickLeave.startDate",component:Z}),Object(i.jsx)(M.a,{id:"entry-sickleave-end-date",label:"End date",name:"sickLeave.endDate",component:Z})]})]})},ge=a(382),fe=a(387),ye=a(367),ve=a(368),ke=function(e){var t=e.form,a=e.field,n=e.label;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsxs)(ye.a,{fullWidth:!0,component:"fieldset",margin:"dense",children:[Object(i.jsx)(ve.a,{component:"legend",disabled:!0,children:n}),Object(i.jsxs)(fe.a,{row:!0,"aria-label":"health rating",value:a.value,onChange:function(e){var n=Number(e.target.value);t.setFieldValue(a.name,n)},children:[Object(i.jsx)(pe.a,{value:1,control:Object(i.jsx)(ge.a,{}),label:"Healthy"}),Object(i.jsx)(pe.a,{value:2,control:Object(i.jsx)(ge.a,{}),label:"Low risk"}),Object(i.jsx)(pe.a,{value:3,control:Object(i.jsx)(ge.a,{}),label:"High risk"}),Object(i.jsx)(pe.a,{value:4,control:Object(i.jsx)(ge.a,{}),label:"Critical risk"})]})]})})},Ce=function(){return Object(i.jsx)(M.a,{label:"Health Rating",name:"healthCheckRating",component:ke})},Se=a(379),we=a(365),Te=function(e){var t=e.setFieldValue,a=e.setFieldTouched,n=e.diagnoses,r=e.codes,c="diagnosisCodes",s=n.map((function(e){return Object(i.jsx)(Q.a,{value:e.code,children:Object(i.jsxs)(H.a,{variant:"inherit",noWrap:!0,children:[e.name," (",e.code,")"]})},e.code)}));return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsx)(ye.a,{fullWidth:!0,children:Object(i.jsxs)(Se.a,{multiple:!0,displayEmpty:!0,value:r,onChange:function(e){t(c,e.target.value),setTimeout((function(){return a(c,!0)}))},input:Object(i.jsx)(we.a,{}),renderValue:function(e){return Object(i.jsx)(H.a,{variant:"inherit",style:{padding:"10px 14px"},children:0===e.length?"Add Diagnosis":e.join(", ")})},inputProps:{"aria-label":"diagnosis"},children:[Object(i.jsx)(Q.a,{disabled:!0,value:"",children:Object(i.jsx)(H.a,{variant:"inherit",children:"Diagnosis"})}),s]})})})},De=z.d().shape({date:z.b().required("Date is required"),type:z.e(),specialist:z.e().min(2,"Name is too short").max(35,"Name is too long").required("Specialist is required"),employerName:z.e().when("type",{is:c.OccupationalHealthcare,then:z.e().required("Employer is required"),otherwise:z.e()}).max(35,"Employer name is too long"),diagnosisCodes:z.a(),description:z.e().max(500,"Description is too long").required("Description is required"),discharge:z.d().shape({date:z.b(),criteria:z.e().min(2,"Text is too short").max(250,"Text is too long")}),sickLeave:z.d().shape({startDate:z.b(),endDate:z.b()}),healthCheckRating:z.c()}),He=function(e){var t=e.onSubmit,a=e.onCancel,r=g(),s=Object(p.a)(r,1)[0].diagnoses;return Object(i.jsx)(M.c,{initialValues:{date:"",type:c.Hospital,specialist:"",employerName:"",diagnosisCodes:[],description:"",discharge:{date:"",criteria:""},sickLeave:{startDate:"",endDate:""},healthCheckRating:n.Healthy},onSubmit:t,validationSchema:De,children:function(e){var t=e.values,n=e.isValid,r=e.dirty,o=e.setFieldValue,l=e.setFieldTouched;return Object(i.jsx)(M.b,{style:te,children:Object(i.jsxs)(J.a,{container:!0,spacing:2,children:[Object(i.jsx)(be,{}),t.type===c.Hospital&&Object(i.jsx)(xe,{}),t.type===c.OccupationalHealthcare&&Object(i.jsx)(me,{}),t.type===c.HealthCheck&&Object(i.jsx)(Ce,{}),Object(i.jsx)(Te,{setFieldValue:o,setFieldTouched:l,diagnoses:Object.values(s),codes:t.diagnosisCodes}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(E.a,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",size:"large",disabled:!r||!n,children:"Add"})}),Object(i.jsx)(J.a,{item:!0,xs:6,children:Object(i.jsx)(E.a,{fullWidth:!0,type:"button",color:"secondary",variant:"outlined",size:"large",onClick:a,children:"Cancel"})})]})})}})},qe=function(e){var t=e.handleSubmit,a=e.handleOpen,n=e.handleClose,r=e.open,c=e.error;return Object(i.jsxs)("div",{children:[Object(i.jsx)(E.a,{type:"button",variant:"outlined",onClick:a,children:"Add New Entry"}),Object(i.jsxs)(ce.a,{open:r,onClose:n,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(He,{onSubmit:t,onCancel:n}),c&&Object(i.jsx)(re,{error:c})]})]})},Ee=function(e){return new Date(e).toDateString()},Ne=function(e,t){var a=new Date(e),n=new Date(t);return"from ".concat(a.toDateString()," to ").concat(n.toDateString())},Fe=function(e){var t=e.codes,a=g(),n=Object(p.a)(a,1)[0].diagnoses,r=Object.values(n).filter((function(e){return t.includes(e.code)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(H.a,{variant:"h6",children:"Diagnosis:"}),Object(i.jsx)(oe.a,{disablePadding:!0,children:r.map((function(e){return Object(i.jsx)(le.a,{children:Object(i.jsx)(de.a,{primary:e.name,secondary:e.code})},e.code)}))})]})},Re=a(374),Ae=a(375),Le=a(376),Ie=a(377),Pe=a(385),Be=a(162),We=a.n(Be),_e=a(160),Ve=a.n(_e),Ge=a(161),Ue=a.n(Ge),ze=a(91),Me=a(92),Je=a(90),Ke=function(e){var t=e.type,a=e.date,n=e.description,r=e.codes,c=e.children;return Object(i.jsx)(J.a,{item:!0,xs:12,children:Object(i.jsxs)(Re.a,{children:[Object(i.jsx)(Ae.a,{avatar:function(e){switch(e){case"Occupational Healthcare":return Object(i.jsx)(Pe.a,{style:{backgroundColor:ze.a[700]},children:Object(i.jsx)(Ve.a,{})});case"Health Check":return Object(i.jsx)(Pe.a,{style:{backgroundColor:Me.a[700]},children:Object(i.jsx)(Ue.a,{})});default:return Object(i.jsx)(Pe.a,{style:{backgroundColor:Je.a[700]},children:Object(i.jsx)(We.a,{})})}}(t),title:t,subheader:Ee(a)}),Object(i.jsxs)(Le.a,{children:[r&&r.length>0?Object(i.jsx)(Fe,{codes:r}):null,Object(i.jsx)(H.a,{color:"textSecondary",component:"p",style:{marginBottom:15},children:n}),c&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ie.a,{variant:"fullWidth"}),Object(i.jsx)("div",{style:{marginTop:15},children:c})]})]})]})})},Qe=function(e){var t=e.entry;return Object(i.jsx)(Ke,{type:"Hospital",date:t.date,description:t.description,codes:t.diagnosisCodes,children:t.discharge?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(H.a,{gutterBottom:!0,component:"p",children:["Discharged from hospital on ",Ee(t.discharge.date),"."]}),Object(i.jsxs)(H.a,{component:"p",children:["Discharge criteria: ",t.discharge.criteria]})]}):""})},Xe=function(e){var t=e.entry;return Object(i.jsx)(Ke,{type:"Occupational Healthcare",date:t.date,description:t.description,codes:t.diagnosisCodes,children:Object(i.jsxs)(i.Fragment,{children:[t.sickLeave&&Object(i.jsxs)(H.a,{gutterBottom:!0,component:"p",children:["On sick leave"," ",Ne(t.sickLeave.startDate,t.sickLeave.endDate),"."]}),Object(i.jsxs)(H.a,{component:"p",children:["Employer: ",t.employerName]})]})})},Ye=function(e){var t=e.entry;return Object(i.jsx)(Ke,{type:"Health Check",date:t.date,description:t.description,codes:t.diagnosisCodes,children:Object(i.jsxs)(H.a,{component:"p",children:["Health assessment:"," ",Object(i.jsx)(A,{rating:t.healthCheckRating,showText:!0})]})})},Ze=function(e){var t=e.entry;switch(t.type){case"Hospital":return Object(i.jsx)(Qe,{entry:t});case"OccupationalHealthcare":return Object(i.jsx)(Xe,{entry:t});case"HealthCheck":return Object(i.jsx)(Ye,{entry:t});default:!function(e){throw new Error("".concat(e," is an unknown entry type"))}(t)}},$e=function(e){var t=e.entries,a=e.handleSubmit,n=e.handleOpen,r=e.handleClose,c=e.open,s=e.error;return Object(i.jsxs)(J.a,{container:!0,children:[Object(i.jsx)(H.a,{variant:"h5",component:"h4",color:"textPrimary",style:{marginRight:25},children:"Entries"}),Object(i.jsx)(qe,{handleSubmit:a,handleOpen:n,handleClose:r,open:c,error:s}),Object(i.jsx)(J.a,{container:!0,item:!0,xs:12,spacing:3,style:{marginTop:25},children:t&&t.length>0?t.map((function(e){return Object(i.jsx)(Ze,{entry:e},e.id)})):Object(i.jsx)(H.a,{component:"h6",color:"textSecondary",style:{marginLeft:15},children:"No entries"})})]})},et=function(){var e=g(),t=Object(p.a)(e,2),a=t[0],n=a.patients,r=a.patient,c=t[1],o=Object(w.f)().id,l=Object(s.useState)(!0),d=Object(p.a)(l,2),j=d[0],O=d[1],x=Object(s.useState)(!1),m=Object(p.a)(x,2),f=m[0],k=m[1],S=Object(s.useState)(),D=Object(p.a)(S,2),q=D[0],E=D[1],N=function(){k(!1),E(void 0)};Object(s.useEffect)((function(){var e=function(){var e=Object(v.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(T,"/patients/").concat(o));case 3:t=e.sent,a=t.data,c(b(a)),O(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?E(e.t0.message):E("Unknown Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();r&&r.id===o||(Object.keys(n).includes(o)?e():O(!1))}),[r]);var F=function(){var e=Object(v.a)(y.a.mark((function e(t){var a,i,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat(T,"/patients/").concat(o,"/entries"),t);case 3:a=e.sent,i=a.data,r&&i&&("HealthCheck"===t.type&&(s=Object(u.a)(Object(u.a)({},n[r.id]),{},{healthRating:t.healthCheckRating}),c(h(s))),N(),c(b(Object(u.a)(Object(u.a)({},r),{},{entries:i})))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0 instanceof Error?E(e.t0.message):E("Unknown Error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return!r&&j||r&&r.id!==o?Object(i.jsx)(H.a,{children:"Loading..."}):r?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(je,{patient:r}),Object(i.jsx)($e,{entries:r.entries,handleSubmit:F,handleOpen:function(){return k(!0)},handleClose:N,open:f,error:q})]}):Object(i.jsx)(H.a,{children:"No such patient exist in the database."})},tt=a(378),at=function(){var e=g(),t=Object(p.a)(e,2)[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(v.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(T,"/patients"));case 3:a=e.sent,n=a.data,t({type:"SET_PATIENT_LIST",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(v.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(T,"/diagnosis"));case 3:a=e.sent,n=a.data,t({type:"SET_DIAGNOSIS_LIST",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e(),a()}),[t]),Object(i.jsx)(S.a,{children:Object(i.jsxs)(tt.a,{children:[Object(i.jsx)(N,{}),Object(i.jsxs)(w.c,{children:[Object(i.jsx)(w.a,{path:"/patients/:id",children:Object(i.jsx)(et,{})}),Object(i.jsx)(w.a,{exact:!0,path:"/",children:Object(i.jsx)(se,{})})]})]})})};d.a.render(Object(i.jsx)(m,{reducer:function(e,t){switch(t.type){case"SET_PATIENT_LIST":return Object(u.a)(Object(u.a)({},e),{},{patients:Object(u.a)(Object(u.a)({},t.payload.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(j.a)({},t.id,t))}),{})),e.patients)});case"ADD_PATIENT":return Object(u.a)(Object(u.a)({},e),{},{patients:Object(u.a)(Object(u.a)({},e.patients),{},Object(j.a)({},t.payload.id,t.payload))});case"UPDATE_PATIENT":return Object(u.a)(Object(u.a)({},e),{},{patient:Object(u.a)({},t.payload)});case"SET_DIAGNOSIS_LIST":return Object(u.a)(Object(u.a)({},e),{},{diagnoses:Object(u.a)(Object(u.a)({},t.payload.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(j.a)({},t.code,t))}),{})),e.diagnoses)});default:return e}},children:Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(at,{})})}),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.d507425b.chunk.js.map